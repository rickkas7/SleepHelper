<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SleepExample1: SleepHelper::SettingsFile Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SleepExample1
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="class_sleep_helper.html">SleepHelper</a></li><li class="navelem"><a class="el" href="class_sleep_helper_1_1_settings_file.html">SettingsFile</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle"><div class="title">SleepHelper::SettingsFile Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class for managing the <a class="el" href="class_sleep_helper.html">SleepHelper</a> settings file.  
 <a href="class_sleep_helper_1_1_settings_file.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_sleep_helper_8h_source.html">SleepHelper.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SleepHelper::SettingsFile:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_sleep_helper_1_1_settings_file.png" usemap="#SleepHelper::SettingsFile_map" alt=""/>
  <map id="SleepHelper::SettingsFile_map" name="SleepHelper::SettingsFile_map">
<area href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html" title="This is a wrapper around a recursive mutex, similar to Device OS RecursiveMutex." alt="SleepHelper::SleepHelperRecursiveMutex" shape="rect" coords="0,0,249,24"/>
<area href="class_sleep_helper_1_1_cloud_settings_file.html" title="Cloud-based settings." alt="SleepHelper::CloudSettingsFile" shape="rect" coords="0,112,249,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a99e4341f16fead8656eec1c2c58aa53c"><td class="memItemLeft" align="right" valign="top"><a id="a99e4341f16fead8656eec1c2c58aa53c" name="a99e4341f16fead8656eec1c2c58aa53c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>SettingsFile</b> ()</td></tr>
<tr class="memdesc:a99e4341f16fead8656eec1c2c58aa53c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. Use <a class="el" href="class_sleep_helper_1_1_settings_file.html#aa8df129856d5796956f36ac93ee7e228" title="Sets the path to the settings file on the file system.">withPath()</a> to set the pathname if using this constructor. <br /></td></tr>
<tr class="separator:a99e4341f16fead8656eec1c2c58aa53c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a870fcfe0e33c8bc5c2e5f3c9cec3aac4"><td class="memItemLeft" align="right" valign="top"><a id="a870fcfe0e33c8bc5c2e5f3c9cec3aac4" name="a870fcfe0e33c8bc5c2e5f3c9cec3aac4"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><b>~SettingsFile</b> ()</td></tr>
<tr class="memdesc:a870fcfe0e33c8bc5c2e5f3c9cec3aac4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a870fcfe0e33c8bc5c2e5f3c9cec3aac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8df129856d5796956f36ac93ee7e228"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_sleep_helper_1_1_settings_file.html">SettingsFile</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sleep_helper_1_1_settings_file.html#aa8df129856d5796956f36ac93ee7e228">withPath</a> (const char *path)</td></tr>
<tr class="memdesc:aa8df129856d5796956f36ac93ee7e228"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the path to the settings file on the file system.  <a href="class_sleep_helper_1_1_settings_file.html#aa8df129856d5796956f36ac93ee7e228">More...</a><br /></td></tr>
<tr class="separator:aa8df129856d5796956f36ac93ee7e228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81454575654c03f7888717305d480db1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_sleep_helper_1_1_settings_file.html">SettingsFile</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sleep_helper_1_1_settings_file.html#a81454575654c03f7888717305d480db1">withDefaultValues</a> (const char *defaultValues)</td></tr>
<tr class="memdesc:a81454575654c03f7888717305d480db1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default values.  <a href="class_sleep_helper_1_1_settings_file.html#a81454575654c03f7888717305d480db1">More...</a><br /></td></tr>
<tr class="separator:a81454575654c03f7888717305d480db1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a377febb03172255a6c3254c66b2369c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_sleep_helper_1_1_settings_file.html">SettingsFile</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sleep_helper_1_1_settings_file.html#a377febb03172255a6c3254c66b2369c9">withSettingChangeFunction</a> (std::function&lt; bool(const char *)&gt; fn)</td></tr>
<tr class="memdesc:a377febb03172255a6c3254c66b2369c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a function to be called when a settings value is changed.  <a href="class_sleep_helper_1_1_settings_file.html#a377febb03172255a6c3254c66b2369c9">More...</a><br /></td></tr>
<tr class="separator:a377febb03172255a6c3254c66b2369c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dde1ae6b6af0a60a45efa41f973fd5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sleep_helper_1_1_settings_file.html#a4dde1ae6b6af0a60a45efa41f973fd5d">setup</a> ()</td></tr>
<tr class="memdesc:a4dde1ae6b6af0a60a45efa41f973fd5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize this object for use in <a class="el" href="class_sleep_helper.html">SleepHelper</a>.  <a href="class_sleep_helper_1_1_settings_file.html#a4dde1ae6b6af0a60a45efa41f973fd5d">More...</a><br /></td></tr>
<tr class="separator:a4dde1ae6b6af0a60a45efa41f973fd5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86c1223740ecac78d495172d4a86c9f8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sleep_helper_1_1_settings_file.html#a86c1223740ecac78d495172d4a86c9f8">load</a> ()</td></tr>
<tr class="memdesc:a86c1223740ecac78d495172d4a86c9f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the settings file. You normally do not need to call this; it will be loaded automatically.  <a href="class_sleep_helper_1_1_settings_file.html#a86c1223740ecac78d495172d4a86c9f8">More...</a><br /></td></tr>
<tr class="separator:a86c1223740ecac78d495172d4a86c9f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5401ec9133ebafbd46642fb7db71c51f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sleep_helper_1_1_settings_file.html#a5401ec9133ebafbd46642fb7db71c51f">save</a> ()</td></tr>
<tr class="memdesc:a5401ec9133ebafbd46642fb7db71c51f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the settings file. You normally do not need to call this; it will be saved automatically.  <a href="class_sleep_helper_1_1_settings_file.html#a5401ec9133ebafbd46642fb7db71c51f">More...</a><br /></td></tr>
<tr class="separator:a5401ec9133ebafbd46642fb7db71c51f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6efa28ca49cf9973bb1c3b9f7a34da21"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a6efa28ca49cf9973bb1c3b9f7a34da21"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_sleep_helper_1_1_settings_file.html#a6efa28ca49cf9973bb1c3b9f7a34da21">getValue</a> (const char *name, T &amp;value) const</td></tr>
<tr class="memdesc:a6efa28ca49cf9973bb1c3b9f7a34da21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a value from the settings file.  <a href="class_sleep_helper_1_1_settings_file.html#a6efa28ca49cf9973bb1c3b9f7a34da21">More...</a><br /></td></tr>
<tr class="separator:a6efa28ca49cf9973bb1c3b9f7a34da21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38d7d6a31e354cce408c333657913c40"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a38d7d6a31e354cce408c333657913c40"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_sleep_helper_1_1_settings_file.html#a38d7d6a31e354cce408c333657913c40">setValue</a> (const char *name, const T &amp;value)</td></tr>
<tr class="memdesc:a38d7d6a31e354cce408c333657913c40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the value of a key to a bool, int, double, or String value.  <a href="class_sleep_helper_1_1_settings_file.html#a38d7d6a31e354cce408c333657913c40">More...</a><br /></td></tr>
<tr class="separator:a38d7d6a31e354cce408c333657913c40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4b2d54313df57febc06cb1bdea0a556"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sleep_helper_1_1_settings_file.html#ae4b2d54313df57febc06cb1bdea0a556">setValue</a> (const char *name, const char *value)</td></tr>
<tr class="memdesc:ae4b2d54313df57febc06cb1bdea0a556"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the value of a key to a constant string.  <a href="class_sleep_helper_1_1_settings_file.html#ae4b2d54313df57febc06cb1bdea0a556">More...</a><br /></td></tr>
<tr class="separator:ae4b2d54313df57febc06cb1bdea0a556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeca5f5202727cb3685c27e8f0bb64c2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sleep_helper_1_1_settings_file.html#adeca5f5202727cb3685c27e8f0bb64c2">setValuesJson</a> (const char *json)</td></tr>
<tr class="memdesc:adeca5f5202727cb3685c27e8f0bb64c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set value to the specified JSON, replacing the existing settings. Calls update callbacks if necessary.  <a href="class_sleep_helper_1_1_settings_file.html#adeca5f5202727cb3685c27e8f0bb64c2">More...</a><br /></td></tr>
<tr class="separator:adeca5f5202727cb3685c27e8f0bb64c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bd1293818afc254c72e2da63446f42c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sleep_helper_1_1_settings_file.html#a9bd1293818afc254c72e2da63446f42c">updateValuesJson</a> (const char *json)</td></tr>
<tr class="memdesc:a9bd1293818afc254c72e2da63446f42c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Merges multiple values from JSON data into the settings. Calls update callbacks if necessary.  <a href="class_sleep_helper_1_1_settings_file.html#a9bd1293818afc254c72e2da63446f42c">More...</a><br /></td></tr>
<tr class="separator:a9bd1293818afc254c72e2da63446f42c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27e1b6f1830abc75e1e990656c6c125c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sleep_helper_1_1_settings_file.html#a27e1b6f1830abc75e1e990656c6c125c">addDefaultValues</a> (const char *inputJson)</td></tr>
<tr class="memdesc:a27e1b6f1830abc75e1e990656c6c125c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Merge in default values.  <a href="class_sleep_helper_1_1_settings_file.html#a27e1b6f1830abc75e1e990656c6c125c">More...</a><br /></td></tr>
<tr class="separator:a27e1b6f1830abc75e1e990656c6c125c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f81934694c6c82e10f5c1d4a577f8e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sleep_helper_1_1_settings_file.html#af2f81934694c6c82e10f5c1d4a577f8e">getValuesJson</a> (String &amp;json)</td></tr>
<tr class="memdesc:af2f81934694c6c82e10f5c1d4a577f8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all of the current settings as a JSON string.  <a href="class_sleep_helper_1_1_settings_file.html#af2f81934694c6c82e10f5c1d4a577f8e">More...</a><br /></td></tr>
<tr class="separator:af2f81934694c6c82e10f5c1d4a577f8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_sleep_helper_1_1_sleep_helper_recursive_mutex"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_sleep_helper_1_1_sleep_helper_recursive_mutex')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html">SleepHelper::SleepHelperRecursiveMutex</a></td></tr>
<tr class="memitem:af25f1073f79d12bb4f57a7c1f6629aa8 inherit pub_methods_class_sleep_helper_1_1_sleep_helper_recursive_mutex"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#af25f1073f79d12bb4f57a7c1f6629aa8">SleepHelperRecursiveMutex</a> (os_mutex_recursive_t handle)</td></tr>
<tr class="separator:af25f1073f79d12bb4f57a7c1f6629aa8 inherit pub_methods_class_sleep_helper_1_1_sleep_helper_recursive_mutex"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c9e1311d1d26a58afb1c8f8d32fcf69 inherit pub_methods_class_sleep_helper_1_1_sleep_helper_recursive_mutex"><td class="memItemLeft" align="right" valign="top"><a id="a3c9e1311d1d26a58afb1c8f8d32fcf69" name="a3c9e1311d1d26a58afb1c8f8d32fcf69"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>dispose</b> ()</td></tr>
<tr class="separator:a3c9e1311d1d26a58afb1c8f8d32fcf69 inherit pub_methods_class_sleep_helper_1_1_sleep_helper_recursive_mutex"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae36dee79d37ac9610cd4c76c845c5386 inherit pub_methods_class_sleep_helper_1_1_sleep_helper_recursive_mutex"><td class="memItemLeft" align="right" valign="top"><a id="ae36dee79d37ac9610cd4c76c845c5386" name="ae36dee79d37ac9610cd4c76c845c5386"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>lock</b> () const</td></tr>
<tr class="separator:ae36dee79d37ac9610cd4c76c845c5386 inherit pub_methods_class_sleep_helper_1_1_sleep_helper_recursive_mutex"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34bb756e26a98c673610396cbf06e7b7 inherit pub_methods_class_sleep_helper_1_1_sleep_helper_recursive_mutex"><td class="memItemLeft" align="right" valign="top"><a id="a34bb756e26a98c673610396cbf06e7b7" name="a34bb756e26a98c673610396cbf06e7b7"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>trylock</b> () const</td></tr>
<tr class="separator:a34bb756e26a98c673610396cbf06e7b7 inherit pub_methods_class_sleep_helper_1_1_sleep_helper_recursive_mutex"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a1f53c6f4b467ddfd988d8defd8c478 inherit pub_methods_class_sleep_helper_1_1_sleep_helper_recursive_mutex"><td class="memItemLeft" align="right" valign="top"><a id="a6a1f53c6f4b467ddfd988d8defd8c478" name="a6a1f53c6f4b467ddfd988d8defd8c478"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>try_lock</b> () const</td></tr>
<tr class="separator:a6a1f53c6f4b467ddfd988d8defd8c478 inherit pub_methods_class_sleep_helper_1_1_sleep_helper_recursive_mutex"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad89bbb20eae4ef07b147fe69f688c765 inherit pub_methods_class_sleep_helper_1_1_sleep_helper_recursive_mutex"><td class="memItemLeft" align="right" valign="top"><a id="ad89bbb20eae4ef07b147fe69f688c765" name="ad89bbb20eae4ef07b147fe69f688c765"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>unlock</b> () const</td></tr>
<tr class="separator:ad89bbb20eae4ef07b147fe69f688c765 inherit pub_methods_class_sleep_helper_1_1_sleep_helper_recursive_mutex"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a9d206ef93d7bed231f85e6ec10c9f393"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sleep_helper_1_1_settings_file.html#a9d206ef93d7bed231f85e6ec10c9f393">SettingsFile</a> (const <a class="el" href="class_sleep_helper_1_1_settings_file.html">SettingsFile</a> &amp;)=delete</td></tr>
<tr class="separator:a9d206ef93d7bed231f85e6ec10c9f393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3cdb2e1347e544be021cc3f3849b612"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_sleep_helper_1_1_settings_file.html">SettingsFile</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sleep_helper_1_1_settings_file.html#af3cdb2e1347e544be021cc3f3849b612">operator=</a> (const <a class="el" href="class_sleep_helper_1_1_settings_file.html">SettingsFile</a> &amp;)=delete</td></tr>
<tr class="separator:af3cdb2e1347e544be021cc3f3849b612"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aa173313f625c381fc9e2cefc3cb1306d"><td class="memItemLeft" align="right" valign="top"><a id="aa173313f625c381fc9e2cefc3cb1306d" name="aa173313f625c381fc9e2cefc3cb1306d"></a>
JsonParserStatic&lt; particle::protocol::MAX_EVENT_DATA_LENGTH, 50 &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>parser</b></td></tr>
<tr class="separator:aa173313f625c381fc9e2cefc3cb1306d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad51309909967dae8f9b7062e9173c47f"><td class="memItemLeft" align="right" valign="top"><a id="ad51309909967dae8f9b7062e9173c47f" name="ad51309909967dae8f9b7062e9173c47f"></a>
<a class="el" href="class_sleep_helper_1_1_app_callback.html">AppCallback</a>&lt; const char * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>settingChangeFunctions</b></td></tr>
<tr class="separator:ad51309909967dae8f9b7062e9173c47f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaab1493e82be7c15a62a98b3180f5a8"><td class="memItemLeft" align="right" valign="top"><a id="aaaab1493e82be7c15a62a98b3180f5a8" name="aaaab1493e82be7c15a62a98b3180f5a8"></a>
String&#160;</td><td class="memItemRight" valign="bottom"><b>path</b></td></tr>
<tr class="separator:aaaab1493e82be7c15a62a98b3180f5a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa496babc997844677026805acf56a0fa"><td class="memItemLeft" align="right" valign="top"><a id="aa496babc997844677026805acf56a0fa" name="aa496babc997844677026805acf56a0fa"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>defaultValues</b> = 0</td></tr>
<tr class="separator:aa496babc997844677026805acf56a0fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Class for managing the <a class="el" href="class_sleep_helper.html">SleepHelper</a> settings file. </p>
<p >You must not access the settings file at global constructor time. Only use it from <a class="el" href="class_sleep_helper_1_1_settings_file.html#a4dde1ae6b6af0a60a45efa41f973fd5d" title="Initialize this object for use in SleepHelper.">setup()</a> or later. You can access it from worker threads.</p>
<p >Settings are limited to the size of a publish, function, or variable data payload, typically 1024 bytes on Gen 3 devices.</p>
<p >If you have more data than that, you should store it in your own file. You can also create more than one <a class="el" href="class_sleep_helper_1_1_settings_file.html" title="Class for managing the SleepHelper settings file.">SettingsFile</a> object for your own settings, but it won't be connected to the built-in function and variable support. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9d206ef93d7bed231f85e6ec10c9f393" name="a9d206ef93d7bed231f85e6ec10c9f393"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d206ef93d7bed231f85e6ec10c9f393">&#9670;&nbsp;</a></span>SettingsFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SleepHelper::SettingsFile::SettingsFile </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_sleep_helper_1_1_settings_file.html">SettingsFile</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This class cannot be copied </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a27e1b6f1830abc75e1e990656c6c125c" name="a27e1b6f1830abc75e1e990656c6c125c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27e1b6f1830abc75e1e990656c6c125c">&#9670;&nbsp;</a></span>addDefaultValues()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SleepHelper::SettingsFile::addDefaultValues </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>inputJson</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Merge in default values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputJson</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false</dd></dl>
<p>This is like updateValuesJson but only updates the values from inputJson if the value does not already exist in the settings. This allows the initial set of default settings to be created. It's also used on every load, so if you add a new default setting in defaultValues, then that value will be added to the settings. </p>

</div>
</div>
<a id="a6efa28ca49cf9973bb1c3b9f7a34da21" name="a6efa28ca49cf9973bb1c3b9f7a34da21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6efa28ca49cf9973bb1c3b9f7a34da21">&#9670;&nbsp;</a></span>getValue()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SleepHelper::SettingsFile::getValue </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a value from the settings file. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td></td></tr>
    <tr><td class="paramname">value</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false</dd></dl>
<p>The values are cached in RAM, so this is normally fast. Note that you must request the same data type as the original data in the JSON file - it does not coerce types. </p>

</div>
</div>
<a id="af2f81934694c6c82e10f5c1d4a577f8e" name="af2f81934694c6c82e10f5c1d4a577f8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2f81934694c6c82e10f5c1d4a577f8e">&#9670;&nbsp;</a></span>getValuesJson()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SleepHelper::SettingsFile::getValuesJson </td>
          <td>(</td>
          <td class="paramtype">String &amp;&#160;</td>
          <td class="paramname"><em>json</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all of the current settings as a JSON string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">json</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false</dd></dl>
<p>If you are getting a single value you should use getValue instead. This method is used so the cloud can get all settings from a calculated variable. </p>

</div>
</div>
<a id="a86c1223740ecac78d495172d4a86c9f8" name="a86c1223740ecac78d495172d4a86c9f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86c1223740ecac78d495172d4a86c9f8">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SleepHelper::SettingsFile::load </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the settings file. You normally do not need to call this; it will be loaded automatically. </p>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

</div>
</div>
<a id="af3cdb2e1347e544be021cc3f3849b612" name="af3cdb2e1347e544be021cc3f3849b612"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3cdb2e1347e544be021cc3f3849b612">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sleep_helper_1_1_settings_file.html">SettingsFile</a> &amp; SleepHelper::SettingsFile::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_sleep_helper_1_1_settings_file.html">SettingsFile</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This class cannot be copied </p>

</div>
</div>
<a id="a5401ec9133ebafbd46642fb7db71c51f" name="a5401ec9133ebafbd46642fb7db71c51f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5401ec9133ebafbd46642fb7db71c51f">&#9670;&nbsp;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SleepHelper::SettingsFile::save </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save the settings file. You normally do not need to call this; it will be saved automatically. </p>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

</div>
</div>
<a id="a4dde1ae6b6af0a60a45efa41f973fd5d" name="a4dde1ae6b6af0a60a45efa41f973fd5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dde1ae6b6af0a60a45efa41f973fd5d">&#9670;&nbsp;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SleepHelper::SettingsFile::setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize this object for use in <a class="el" href="class_sleep_helper.html">SleepHelper</a>. </p>
<p >This is used from SleepHeler::setup(). You should not use this if you are creating your own <a class="el" href="class_sleep_helper_1_1_settings_file.html" title="Class for managing the SleepHelper settings file.">SettingsFile</a> object; this is only used to hook this class into SleepHelper/ </p>

</div>
</div>
<a id="ae4b2d54313df57febc06cb1bdea0a556" name="ae4b2d54313df57febc06cb1bdea0a556"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4b2d54313df57febc06cb1bdea0a556">&#9670;&nbsp;</a></span>setValue() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SleepHelper::SettingsFile::setValue </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the value of a key to a constant string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td></td></tr>
    <tr><td class="paramname">value</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false</dd></dl>
<p>This call returns quickly if the value does not change.</p>
<p >This specific overload is required because the templated version above can't get the value to see if it changed into a const char *. Making a copy of it in a string solves this issue. </p>

</div>
</div>
<a id="a38d7d6a31e354cce408c333657913c40" name="a38d7d6a31e354cce408c333657913c40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38d7d6a31e354cce408c333657913c40">&#9670;&nbsp;</a></span>setValue() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SleepHelper::SettingsFile::setValue </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the value of a key to a bool, int, double, or String value. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td></td></tr>
    <tr><td class="paramname">value</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false</dd></dl>
<p>This call returns quickly if the value does not change and does not write to the file system if the value is unchanged.</p>
<p >You should use the same data type as was originally in the JSON data beacause the change detection does not coerce data types. </p>

</div>
</div>
<a id="adeca5f5202727cb3685c27e8f0bb64c2" name="adeca5f5202727cb3685c27e8f0bb64c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeca5f5202727cb3685c27e8f0bb64c2">&#9670;&nbsp;</a></span>setValuesJson()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SleepHelper::SettingsFile::setValuesJson </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>json</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set value to the specified JSON, replacing the existing settings. Calls update callbacks if necessary. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">json</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

</div>
</div>
<a id="a9bd1293818afc254c72e2da63446f42c" name="a9bd1293818afc254c72e2da63446f42c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bd1293818afc254c72e2da63446f42c">&#9670;&nbsp;</a></span>updateValuesJson()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SleepHelper::SettingsFile::updateValuesJson </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>json</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Merges multiple values from JSON data into the settings. Calls update callbacks if necessary. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">json</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false</dd></dl>
<p>This is a merge; values that are not included in json but already exist in the settings will be left unchanged. </p>

</div>
</div>
<a id="a81454575654c03f7888717305d480db1" name="a81454575654c03f7888717305d480db1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81454575654c03f7888717305d480db1">&#9670;&nbsp;</a></span>withDefaultValues()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sleep_helper_1_1_settings_file.html">SettingsFile</a> &amp; SleepHelper::SettingsFile::withDefaultValues </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>defaultValues</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">defaultValues</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_sleep_helper_1_1_settings_file.html" title="Class for managing the SleepHelper settings file.">SettingsFile</a>&amp; </dd></dl>

</div>
</div>
<a id="aa8df129856d5796956f36ac93ee7e228" name="aa8df129856d5796956f36ac93ee7e228"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8df129856d5796956f36ac93ee7e228">&#9670;&nbsp;</a></span>withPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sleep_helper_1_1_settings_file.html">SettingsFile</a> &amp; SleepHelper::SettingsFile::withPath </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the path to the settings file on the file system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_sleep_helper_1_1_settings_file.html" title="Class for managing the SleepHelper settings file.">SettingsFile</a>&amp; </dd></dl>

</div>
</div>
<a id="a377febb03172255a6c3254c66b2369c9" name="a377febb03172255a6c3254c66b2369c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a377febb03172255a6c3254c66b2369c9">&#9670;&nbsp;</a></span>withSettingChangeFunction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sleep_helper_1_1_settings_file.html">SettingsFile</a> &amp; SleepHelper::SettingsFile::withSettingChangeFunction </td>
          <td>(</td>
          <td class="paramtype">std::function&lt; bool(const char *)&gt;&#160;</td>
          <td class="paramname"><em>fn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a function to be called when a settings value is changed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fn</td><td>a function or lamba to call </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_sleep_helper_1_1_settings_file.html" title="Class for managing the SleepHelper settings file.">SettingsFile</a>&amp; </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_sleep_helper_8h_source.html">SleepHelper.h</a></li>
<li>src/SleepHelper.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
