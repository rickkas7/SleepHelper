<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SleepHelper: src/SleepHelper.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SleepHelper
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">SleepHelper.h</div></div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#ifndef __SLEEPHELPER_H</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="preprocessor">#define __SLEEPHELPER_H</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span> </div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="preprocessor">#include &quot;Particle.h&quot;</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &quot;LocalTimeRK.h&quot;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &quot;JsonParserGeneratorRK.h&quot;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &quot;StorageHelperRK.h&quot;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span> </div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;fcntl.h&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#if HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;sys/stat.h&gt;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span> </div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno"><a class="line" href="class_sleep_helper.html">   28</a></span><span class="keyword">class </span><a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> {</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>    <span class="keyword">static</span> <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="class_sleep_helper.html#ad424c11c0781ea2ebbdd96a43521ea06">instance</a>();</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span> </div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#ifndef UNITTEST</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html">   49</a></span>    <span class="keyword">class </span><a class="code hl_class" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html">SleepHelperRecursiveMutex</a></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    {</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>        <span class="keyword">mutable</span> os_mutex_recursive_t handle_;</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span> </div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#af25f1073f79d12bb4f57a7c1f6629aa8">   62</a></span>        <a class="code hl_function" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#af25f1073f79d12bb4f57a7c1f6629aa8">SleepHelperRecursiveMutex</a>(os_mutex_recursive_t handle) : handle_(handle) {</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>        }</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#acb7f25e9fab9e82496908e5726b7e812">   69</a></span>        <a class="code hl_function" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#acb7f25e9fab9e82496908e5726b7e812">SleepHelperRecursiveMutex</a>() : handle_(nullptr) {</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>        }</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span> </div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#aaeecb1cb2dea4299c77275757cb69016">   76</a></span>        <a class="code hl_function" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#aaeecb1cb2dea4299c77275757cb69016">~SleepHelperRecursiveMutex</a>() {</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>            <a class="code hl_function" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#a3c9e1311d1d26a58afb1c8f8d32fcf69">dispose</a>();</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>        }</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span> </div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#a3c9e1311d1d26a58afb1c8f8d32fcf69">   83</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#a3c9e1311d1d26a58afb1c8f8d32fcf69">dispose</a>() {</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>            <span class="keywordflow">if</span> (handle_) {</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>                os_mutex_recursive_destroy(handle_);</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>                handle_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>            }</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>        }</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span> </div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#ae36dee79d37ac9610cd4c76c845c5386">   97</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#ae36dee79d37ac9610cd4c76c845c5386">lock</a>()<span class="keyword"> const </span>{ </div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>            <span class="keywordflow">if</span> (!handle_) {</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>                os_mutex_recursive_create(&amp;handle_);</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>            }</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>            os_mutex_recursive_lock(handle_); </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>        }</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#a34bb756e26a98c673610396cbf06e7b7">  108</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#a34bb756e26a98c673610396cbf06e7b7">trylock</a>()<span class="keyword"> const </span>{ </div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>            <span class="keywordflow">if</span> (!handle_) {</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>                os_mutex_recursive_create(&amp;handle_);</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>            }</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>            <span class="keywordflow">return</span> os_mutex_recursive_trylock(handle_)==0; </div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>        }</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span> </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#a6a1f53c6f4b467ddfd988d8defd8c478">  120</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#a6a1f53c6f4b467ddfd988d8defd8c478">try_lock</a>()<span class="keyword"> const </span>{ </div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#a34bb756e26a98c673610396cbf06e7b7">trylock</a>(); </div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>        }</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span> </div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#ad89bbb20eae4ef07b147fe69f688c765">  129</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#ad89bbb20eae4ef07b147fe69f688c765">unlock</a>()<span class="keyword"> const </span>{ </div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>            os_mutex_recursive_unlock(handle_); </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>        }</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    };</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="keyword">class </span>SleepHelperRecursiveMutex {</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#ae36dee79d37ac9610cd4c76c845c5386">lock</a>()<span class="keyword"> const </span>{};</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#a34bb756e26a98c673610396cbf06e7b7">trylock</a>()<span class="keyword"> const </span>{ </div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>        }</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#a6a1f53c6f4b467ddfd988d8defd8c478">try_lock</a>()<span class="keyword"> const </span>{ </div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#a34bb756e26a98c673610396cbf06e7b7">trylock</a>(); </div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>        }</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#ad89bbb20eae4ef07b147fe69f688c765">unlock</a>()<span class="keyword"> const </span>{ </div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>        }</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    };</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span><span class="preprocessor">#endif </span><span class="comment">/* UNITTEST */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span> </div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    <span class="keyword">template</span>&lt;<span class="keyword">class</span>... Types&gt;</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback.html">  156</a></span>    <span class="keyword">class </span><a class="code hl_class" href="class_sleep_helper_1_1_app_callback.html">AppCallback</a> {</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback.html#a4045a1e0364030ccea36c1db55743332">  165</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="class_sleep_helper_1_1_app_callback.html#a4045a1e0364030ccea36c1db55743332">add</a>(std::function&lt;<span class="keywordtype">bool</span>(Types... args)&gt; callback) {</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>            <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback.html#ad7a3257846621937f6fe5e9aa595c589">callbackFunctions</a>.push_back(callback);</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>        }</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span> </div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback.html#a420d79bd8b13cba2a00ffb9c9c428f49">  176</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="class_sleep_helper_1_1_app_callback.html#a420d79bd8b13cba2a00ffb9c9c428f49">forEach</a>(Types... args) {</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>            <span class="keywordflow">for</span>(<span class="keyword">auto</span> it = <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback.html#ad7a3257846621937f6fe5e9aa595c589">callbackFunctions</a>.begin(); it != <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback.html#ad7a3257846621937f6fe5e9aa595c589">callbackFunctions</a>.end(); ++it) {</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>                (*it)(args...);</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>            }</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>        }</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span> </div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback.html#a1fa6bca65c3b724418572a3890e213ab">  192</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="class_sleep_helper_1_1_app_callback.html#a1fa6bca65c3b724418572a3890e213ab">untilTrue</a>(<span class="keywordtype">bool</span> defaultResult, Types... args) {</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>            <span class="keywordtype">bool</span> res = defaultResult;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>            <span class="keywordflow">for</span>(<span class="keyword">auto</span> it = <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback.html#ad7a3257846621937f6fe5e9aa595c589">callbackFunctions</a>.begin(); it != <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback.html#ad7a3257846621937f6fe5e9aa595c589">callbackFunctions</a>.end(); ++it) {</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>                res = (*it)(args...);</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>                <span class="keywordflow">if</span> (res) {</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>                }</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>            }</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>            <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>        }</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span> </div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback.html#a3b48734a055e9f4f6161b6b5ad3ed80a">  211</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="class_sleep_helper_1_1_app_callback.html#a3b48734a055e9f4f6161b6b5ad3ed80a">whileAnyTrue</a>(<span class="keywordtype">bool</span> defaultResult, Types... args) {</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>            <span class="keywordtype">bool</span> finalRes = defaultResult;</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span> </div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>            <span class="keywordflow">for</span>(<span class="keyword">auto</span> it = <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback.html#ad7a3257846621937f6fe5e9aa595c589">callbackFunctions</a>.begin(); it != <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback.html#ad7a3257846621937f6fe5e9aa595c589">callbackFunctions</a>.end(); ++it) {</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>                <span class="keywordtype">bool</span> res = (*it)(args...);</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>                <span class="keywordflow">if</span> (res) {</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>                    finalRes = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>                }</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>            }</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>            <span class="keywordflow">return</span> finalRes;</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>        }</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span> </div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback.html#a5293c6b263cf3d1f0fe81803f28a35b4">  233</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="class_sleep_helper_1_1_app_callback.html#a5293c6b263cf3d1f0fe81803f28a35b4">untilFalse</a>(<span class="keywordtype">bool</span> defaultResult, Types... args) {</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>            <span class="keywordtype">bool</span> res = defaultResult;</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>            <span class="keywordflow">for</span>(<span class="keyword">auto</span> it = <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback.html#ad7a3257846621937f6fe5e9aa595c589">callbackFunctions</a>.begin(); it != <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback.html#ad7a3257846621937f6fe5e9aa595c589">callbackFunctions</a>.end(); ++it) {</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>                res = (*it)(args...);</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>                <span class="keywordflow">if</span> (!res) {</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>                }</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>            }</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>            <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>        }</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span> </div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback.html#a96ceeb870605fa707cfe6e2d38b840c2">  252</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="class_sleep_helper_1_1_app_callback.html#a96ceeb870605fa707cfe6e2d38b840c2">whileAnyFalse</a>(<span class="keywordtype">bool</span> defaultResult, Types... args) {</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>            <span class="keywordtype">bool</span> finalRes = defaultResult;</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>            <span class="keywordflow">for</span>(<span class="keyword">auto</span> it = <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback.html#ad7a3257846621937f6fe5e9aa595c589">callbackFunctions</a>.begin(); it != <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback.html#ad7a3257846621937f6fe5e9aa595c589">callbackFunctions</a>.end(); ++it) {</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>                <span class="keywordtype">bool</span> res = (*it)(args...);</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>                <span class="keywordflow">if</span> (!res) {</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>                    finalRes = res;</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>                }</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>            }</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>            <span class="keywordflow">return</span> finalRes;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>        }</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span> </div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback.html#a2c991e67a5341f63edae20b133bb1a13">  270</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="class_sleep_helper_1_1_app_callback.html#a2c991e67a5341f63edae20b133bb1a13">removeAll</a>() {</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>            <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback.html#ad7a3257846621937f6fe5e9aa595c589">callbackFunctions</a>.clear();</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>        }</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span> </div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback.html#ad7a3257846621937f6fe5e9aa595c589">  277</a></span>        std::vector&lt;std::function&lt;bool(Types... args)&gt;&gt; <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback.html#ad7a3257846621937f6fe5e9aa595c589">callbackFunctions</a>;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    };</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span> </div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback_state.html">  289</a></span>    <span class="keyword">class </span><a class="code hl_class" href="class_sleep_helper_1_1_app_callback_state.html">AppCallbackState</a> {</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback_state.html#a8c3052d3dd1bc6b62f9b212a613be1fa">  291</a></span>        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_state.html#a8c3052d3dd1bc6b62f9b212a613be1fa">CALLBACK_STATE_START</a> = -1; </div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback_state.html#aa98ef2e3333a7b8cc2b6c5509449c9a9">  292</a></span>        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_state.html#aa98ef2e3333a7b8cc2b6c5509449c9a9">CALLBACK_START_RETURNED_FALSE</a> = -2; </div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span> </div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback_state.html#af56d563f066eca5a01f75b28a24f88b9">  294</a></span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_state.html#af56d563f066eca5a01f75b28a24f88b9">callbackState</a> = <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_state.html#a8c3052d3dd1bc6b62f9b212a613be1fa">CALLBACK_STATE_START</a>; </div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback_state.html#a7fd8da9cd79e9dd9a7054dd19cc84b29">  295</a></span>        <span class="keywordtype">void</span> *<a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_state.html#a7fd8da9cd79e9dd9a7054dd19cc84b29">callbackData</a> = 0; </div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    };</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span> </div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    <span class="keyword">template</span>&lt;<span class="keyword">class</span>... Types&gt;</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback_with_state.html">  304</a></span>    <span class="keyword">class </span><a class="code hl_class" href="class_sleep_helper_1_1_app_callback_with_state.html">AppCallbackWithState</a> {</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>    <span class="keyword">public</span>: </div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback_with_state.html#a2faa88d937fd29dafaeadf150d163c6e">  313</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="class_sleep_helper_1_1_app_callback_with_state.html#a2faa88d937fd29dafaeadf150d163c6e">add</a>(std::function&lt;<span class="keywordtype">bool</span>(<a class="code hl_class" href="class_sleep_helper_1_1_app_callback_state.html">AppCallbackState</a> &amp;, Types... args)&gt; callback) {</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>            <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_with_state.html#a1cc6b386130a994a53bb2c707a906246">callbackFunctions</a>.push_back(callback);</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>            <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_with_state.html#ad585148742b4750006e751a6680294d7">callbackState</a>.push_back(<a class="code hl_class" href="class_sleep_helper_1_1_app_callback_state.html">AppCallbackState</a>());</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>        }</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span> </div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback_with_state.html#a9ec4ef1aa0621b529690173478db393a">  325</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="class_sleep_helper_1_1_app_callback_with_state.html#a9ec4ef1aa0621b529690173478db393a">setState</a>(<span class="keywordtype">int</span> newState) {</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>            <span class="keywordflow">for</span>(<span class="keyword">auto</span> it = <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_with_state.html#ad585148742b4750006e751a6680294d7">callbackState</a>.begin(); it != <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_with_state.html#ad585148742b4750006e751a6680294d7">callbackState</a>.end(); ++it) {</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>                it-&gt;callbackState = newState;</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>            }</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>        }</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span> </div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback_with_state.html#ae982af384ee39f8bc5011c80373ac79d">  336</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="class_sleep_helper_1_1_app_callback_with_state.html#ae982af384ee39f8bc5011c80373ac79d">setStartState</a>() {</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>            <a class="code hl_function" href="class_sleep_helper_1_1_app_callback_with_state.html#a9ec4ef1aa0621b529690173478db393a">setState</a>(<a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_state.html#a8c3052d3dd1bc6b62f9b212a613be1fa">AppCallbackState::CALLBACK_STATE_START</a>);</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>        }</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span> </div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback_with_state.html#a33d2e65f972774b1e66e64f3ccaac0fb">  350</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="class_sleep_helper_1_1_app_callback_with_state.html#a33d2e65f972774b1e66e64f3ccaac0fb">whileAnyTrue</a>(Types... args) {</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>            <span class="keywordtype">bool</span> finalRes = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span> </div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>            <span class="keywordflow">for</span>(<span class="keyword">auto</span> it = <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_with_state.html#ad585148742b4750006e751a6680294d7">callbackState</a>.begin(), it2 = <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_with_state.html#a1cc6b386130a994a53bb2c707a906246">callbackFunctions</a>.begin(); it != <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_with_state.html#ad585148742b4750006e751a6680294d7">callbackState</a>.end(); ++it, ++it2) {</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>                <span class="keywordflow">if</span> (it-&gt;callbackState != <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_state.html#aa98ef2e3333a7b8cc2b6c5509449c9a9">AppCallbackState::CALLBACK_START_RETURNED_FALSE</a>) {</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span> </div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>                    <span class="keywordtype">bool</span> res = (*it2)(*it, args...);</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>                    <span class="keywordflow">if</span> (res) {</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>                        finalRes = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>                    }</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>                    <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>                        it-&gt;callbackState = <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_state.html#aa98ef2e3333a7b8cc2b6c5509449c9a9">AppCallbackState::CALLBACK_START_RETURNED_FALSE</a>;</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>                    }</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>                }</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>            }</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>            <span class="keywordflow">return</span> finalRes;</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>        }</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span> </div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback_with_state.html#a571dbf8b70a9c6e2d5c46b54be860cbe">  374</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="class_sleep_helper_1_1_app_callback_with_state.html#a571dbf8b70a9c6e2d5c46b54be860cbe">isEmpty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_with_state.html#a1cc6b386130a994a53bb2c707a906246">callbackFunctions</a>.empty(); };</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback_with_state.html#a1cc6b386130a994a53bb2c707a906246">  376</a></span>        std::vector&lt;std::function&lt;bool(<a class="code hl_class" href="class_sleep_helper_1_1_app_callback_state.html">AppCallbackState</a> &amp;, Types... args)&gt;&gt; <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_with_state.html#a1cc6b386130a994a53bb2c707a906246">callbackFunctions</a>; </div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_app_callback_with_state.html#ad585148742b4750006e751a6680294d7">  377</a></span>        std::vector&lt;AppCallbackState&gt; <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_with_state.html#ad585148742b4750006e751a6680294d7">callbackState</a>; </div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span> </div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    };</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span> </div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_should_connect_app_callback.html">  402</a></span>    <span class="keyword">class </span><a class="code hl_class" href="class_sleep_helper_1_1_should_connect_app_callback.html">ShouldConnectAppCallback</a> : <span class="keyword">public</span> <a class="code hl_class" href="class_sleep_helper_1_1_app_callback.html">AppCallback</a>&lt;int&amp;, int&amp;&gt; {</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_should_connect_app_callback.html#a6c6304ffbbd78c1dca79d8afbc2c97e1">  429</a></span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="class_sleep_helper_1_1_should_connect_app_callback.html#a6c6304ffbbd78c1dca79d8afbc2c97e1">shouldConnect</a>() {</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>            <span class="keywordtype">int</span> maxConnectConviction = 0;</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>            <span class="keywordtype">int</span> maxNoConnectConviction = 0;</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span> </div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>            <span class="keywordflow">for</span>(<span class="keyword">auto</span> it = <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback.html#ad7a3257846621937f6fe5e9aa595c589">callbackFunctions</a>.begin(); it != <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback.html#ad7a3257846621937f6fe5e9aa595c589">callbackFunctions</a>.end(); ++it) {</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>                <span class="keywordtype">int</span> connectConviction = 0;</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>                <span class="keywordtype">int</span> noConnectConviction = 0;</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>                (*it)(connectConviction, noConnectConviction);</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>                <span class="keywordflow">if</span> (connectConviction &gt; maxConnectConviction) {</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>                    maxConnectConviction = connectConviction;</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>                }</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>                <span class="keywordflow">if</span> (noConnectConviction &gt; maxNoConnectConviction) {</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>                    maxNoConnectConviction = noConnectConviction;</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>                }</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>            }</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span> </div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>            <span class="keywordflow">return</span> (maxConnectConviction &gt;= maxNoConnectConviction);</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>        }</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>    };</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span> </div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span><span class="preprocessor">    #if HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>    <span class="keyword">class </span>SettingsFile : <span class="keyword">public</span> SleepHelperRecursiveMutex {</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>        SettingsFile() {};</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span> </div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>        <span class="keyword">virtual</span> ~SettingsFile() {};</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span> </div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>        SettingsFile &amp;withPath(<span class="keyword">const</span> <span class="keywordtype">char</span> *path) { </div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>            this-&gt;path = path; </div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>            <span class="keywordflow">return</span> *<span class="keyword">this</span>; </div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>        };</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>        </div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>        SettingsFile &amp;withDefaultValues(<span class="keyword">const</span> <span class="keywordtype">char</span> *defaultValues) {</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>            this-&gt;defaultValues = defaultValues;</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>            <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>        }</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span> </div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>        SettingsFile &amp;withSettingChangeFunction(std::function&lt;<span class="keywordtype">bool</span>(<span class="keyword">const</span> <span class="keywordtype">char</span> *)&gt; fn) { </div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>            settingChangeFunctions.add(fn);</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>            <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        }</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="class_sleep_helper.html#aa55dc9d8e2627cf697ac1bd6a1db9c2d">setup</a>();</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span> </div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>        <span class="keywordtype">bool</span> load();</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span> </div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>        <span class="keywordtype">bool</span> save();</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>        </div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>        <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>        <span class="keywordtype">bool</span> getValue(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, T &amp;value)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>            <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>            WITH_LOCK(*<span class="keyword">this</span>) {</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>                result = parser.getOuterValueByKey(name, value);</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>            };</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>        }</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span> </div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>        <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>        <span class="keywordtype">bool</span> setValue(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> T &amp;value) {</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>            <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>            <span class="keywordtype">bool</span> changed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span> </div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>            WITH_LOCK(*<span class="keyword">this</span>) {</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>                T oldValue;</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>                <span class="keywordtype">bool</span> getResult = parser.getOuterValueByKey(name, oldValue);</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>                <span class="keywordflow">if</span> (!getResult || oldValue != value) {</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>                    JsonModifier modifier(parser);</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span> </div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>                    modifier.insertOrUpdateKeyValue(parser.getOuterObject(), name, value);</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>                    changed = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>                }</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span> </div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>            };</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span> </div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>            <span class="keywordflow">if</span> (changed) {</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>                settingChangeFunctions.forEach(name);</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>                save();</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>            }</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>        }</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span> </div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>        <span class="keywordtype">bool</span> setValue(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> <span class="keywordtype">char</span> *value) {</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>            String tempStr(value);</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span> </div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>            <span class="keywordflow">return</span> setValue(name, tempStr);</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>        }</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span> </div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>        <span class="keywordtype">bool</span> setValuesJson(<span class="keyword">const</span> <span class="keywordtype">char</span> *json);</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span> </div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>        <span class="keywordtype">bool</span> updateValuesJson(<span class="keyword">const</span> <span class="keywordtype">char</span> *json);</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span> </div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>        <span class="keywordtype">bool</span> addDefaultValues(<span class="keyword">const</span> <span class="keywordtype">char</span> *inputJson);</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span> </div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>        <span class="keywordtype">bool</span> getValuesJson(String &amp;json);</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span> </div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>    <span class="keyword">protected</span>:</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>        SettingsFile(<span class="keyword">const</span> SettingsFile&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span> </div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>        SettingsFile&amp; <a class="code hl_function" href="class_sleep_helper.html#a4c086ef306238bde738d7837c0e52bbb">operator=</a>(<span class="keyword">const</span> SettingsFile&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span> </div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>        JsonParserStatic&lt;particle::protocol::MAX_EVENT_DATA_LENGTH, 50&gt; parser; </div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span> </div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>        AppCallback&lt;const char *&gt; settingChangeFunctions; </div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>        String path; </div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *defaultValues = 0; </div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>    };</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span><span class="preprocessor">    #endif </span><span class="comment">// HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span> </div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span><span class="preprocessor">    #if HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>    <span class="keyword">class </span>CloudSettingsFile : <span class="keyword">public</span> SettingsFile {</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>        CloudSettingsFile() {</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>        };</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span> </div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>        SettingsFile &amp;withDefaultValues(<span class="keyword">const</span> <span class="keywordtype">char</span> *defaultValues) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span> </div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>        <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>        <span class="keywordtype">bool</span> setValue(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> T &amp;value) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>        </div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>        <span class="keywordtype">bool</span> setValue(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> <span class="keywordtype">char</span> *value) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span> </div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>        <span class="keywordtype">bool</span> updateValuesJson(<span class="keyword">const</span> <span class="keywordtype">char</span> *json) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span> </div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>        <span class="keywordtype">bool</span> addDefaultValues(<span class="keyword">const</span> <span class="keywordtype">char</span> *inputJson) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span> </div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>        uint32_t getHash() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span> </div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>        <span class="keyword">static</span> <span class="keyword">const</span> uint32_t HASH_SEED = 0x5b4ffa05;</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span> </div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>        <span class="keyword">static</span> uint32_t murmur3_32(<span class="keyword">const</span> uint8_t* buf, <span class="keywordtype">size_t</span> len, uint32_t seed) {</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>            <span class="keywordflow">return</span> StorageHelperRK::murmur3_32(buf, len, seed);</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>        }</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span> </div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>    <span class="keyword">private</span>:</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span> </div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>    };</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span><span class="preprocessor">    #endif </span><span class="comment">// HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span> </div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span><span class="preprocessor">    #if HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>    <span class="keyword">class </span>PersistentData : <span class="keyword">public</span> StorageHelperRK::PersistentDataFile {</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>        <span class="keyword">class </span>SleepHelperData {</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>        <span class="keyword">public</span>:</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>            SavedDataHeader header; </div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>            uint32_t lastUpdateCheck; </div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>            uint32_t lastFullWake; </div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>            uint32_t lastQuickWake; </div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>            uint32_t nextDataCapture; </div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>            <span class="comment">// OK to add more fields here later without incremeting version.</span></div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>            <span class="comment">// New fields will be zero-initialized.</span></div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>        };</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span> </div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>        PersistentData(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename) : StorageHelperRK::PersistentDataFile(filename, &amp;sleepHelperData.header, sizeof(SleepHelperData), SAVED_DATA_MAGIC, SAVED_DATA_VERSION) {};</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span> </div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>        <span class="keyword">virtual</span> ~PersistentData() {};</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span> </div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span> </div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>        time_t getValue_lastUpdateCheck()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>            <span class="keywordflow">return</span> (time_t) getValue&lt;uint32_t&gt;(offsetof(SleepHelperData, lastUpdateCheck));</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>        }</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span> </div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>        <span class="keywordtype">void</span> setValue_lastUpdateCheck(time_t value) {</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>            setValue&lt;uint32_t&gt;(offsetof(SleepHelperData, lastUpdateCheck), (uint32_t) value);</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>        }</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span> </div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>        time_t getValue_lastFullWake()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>            <span class="keywordflow">return</span> (time_t) getValue&lt;uint32_t&gt;(offsetof(SleepHelperData, lastFullWake));</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>        }</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>        <span class="keywordtype">void</span> setValue_lastFullWake(time_t value) {</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>            setValue&lt;uint32_t&gt;(offsetof(SleepHelperData, lastFullWake), (uint32_t)value);</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>        }</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span> </div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>        time_t getValue_lastQuickWake()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>            <span class="keywordflow">return</span> (time_t) getValue&lt;uint32_t&gt;(offsetof(SleepHelperData, lastQuickWake));</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>        }</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span> </div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>        <span class="keywordtype">void</span> setValue_lastQuickWake(time_t value) {</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>            setValue&lt;uint32_t&gt;(offsetof(SleepHelperData, lastQuickWake), (uint32_t)value);</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>        }</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span> </div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>        time_t getValue_nextDataCapture()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>            <span class="keywordflow">return</span> (time_t) getValue&lt;uint32_t&gt;(offsetof(SleepHelperData, nextDataCapture));</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>        }</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span> </div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>        <span class="keywordtype">void</span> setValue_nextDataCapture(time_t value) {</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>            setValue&lt;uint32_t&gt;(offsetof(SleepHelperData, nextDataCapture), (uint32_t)value);</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>        }</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span> </div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>    </div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>        <span class="keyword">static</span> <span class="keyword">const</span> uint32_t SAVED_DATA_MAGIC = 0xd87cb6ce; </div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>        <span class="keyword">static</span> <span class="keyword">const</span> uint16_t SAVED_DATA_VERSION = 1; </div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span> </div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span> </div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>    <span class="keyword">protected</span>:</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>        SleepHelperData sleepHelperData; </div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>    };</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span><span class="preprocessor">    #endif </span><span class="comment">// HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span> </div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span><span class="preprocessor">    #if HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>    <span class="keyword">class </span>EventHistory : <span class="keyword">public</span> SleepHelperRecursiveMutex {</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>        EventHistory() {};</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span> </div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>        EventHistory &amp;withPath(<span class="keyword">const</span> <span class="keywordtype">char</span> *path) {</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>            this-&gt;path = path;</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>            <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>        }</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span> </div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>        <span class="keywordtype">void</span> addEvent(<span class="keyword">const</span> <span class="keywordtype">char</span> *jsonObj);</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>;</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>        <span class="keywordtype">void</span> addEvent(std::function&lt;<span class="keywordtype">void</span>(JSONWriter &amp;)&gt;callback);</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span> </div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>        <span class="keywordtype">bool</span> getEvents(JSONWriter &amp;writer, <span class="keywordtype">size_t</span> maxSize, <span class="keywordtype">bool</span> removeEvents = <span class="keyword">true</span>);</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>        </div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>        <span class="keywordtype">void</span> removeEvents();</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span> </div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>        <span class="keywordtype">bool</span> getHasEvents();</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span> </div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>    <span class="keyword">protected</span>:</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>        EventHistory(<span class="keyword">const</span> EventHistory&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span> </div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>        EventHistory&amp; <a class="code hl_function" href="class_sleep_helper.html#a4c086ef306238bde738d7837c0e52bbb">operator=</a>(<span class="keyword">const</span> EventHistory&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span> </div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>        String path; </div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>        <span class="keywordtype">bool</span> firstRun = <span class="keyword">true</span>; </div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>        <span class="keywordtype">bool</span> hasEvents = <span class="keyword">false</span>; </div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>        <span class="keywordtype">size_t</span> removeOffset = 0; </div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>    };</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span><span class="preprocessor">    #endif </span><span class="comment">// HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span> </div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span><span class="preprocessor">    #if HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>    <span class="keyword">class </span>EventCombiner {</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>        <span class="keyword">class </span>EventInfo {</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>        <span class="keyword">public</span>:</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>            String json; </div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>            <span class="keywordtype">int</span> priority = 0; </div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>            std::vector&lt;String&gt; keys; </div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>        };</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span> </div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>        EventCombiner() {};</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span> </div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>        EventCombiner &amp;withCallback(std::function&lt;<span class="keywordtype">bool</span>(JSONWriter &amp;, <span class="keywordtype">int</span> &amp;)&gt; fn) { </div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>            callbacks.add(fn); </div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>            <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>        }</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span> </div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>        EventCombiner &amp;withOneTimeCallback(std::function&lt;<span class="keywordtype">bool</span>(JSONWriter &amp;, <span class="keywordtype">int</span> &amp;)&gt; fn) { </div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>            oneTimeCallbacks.add(fn); </div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>            <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>        }</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span> </div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>        EventCombiner &amp;withEventHistory(<span class="keyword">const</span> <span class="keywordtype">char</span> *path, <span class="keyword">const</span> <span class="keywordtype">char</span> *key) {</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>            eventHistory.withPath(path);</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>            this-&gt;eventHistoryKey = key;</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>            <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>        }</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span> </div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>        EventCombiner &amp;addEvent(<span class="keyword">const</span> <span class="keywordtype">char</span> *jsonObj) {</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>            eventHistory.addEvent(jsonObj);</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>            <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>        }</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span> </div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>        EventCombiner &amp;addEvent(std::function&lt;<span class="keywordtype">void</span>(JSONWriter &amp;)&gt;callback) {</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>            eventHistory.addEvent(callback);</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>            <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>        }</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span> </div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span> </div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>        <span class="keywordtype">void</span> generateEvents(std::vector&lt;String&gt; &amp;events);</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span> </div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>        <span class="keywordtype">void</span> generateEvents(std::vector&lt;String&gt; &amp;events, <span class="keywordtype">size_t</span> maxSize);</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span> </div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>        <span class="keywordtype">void</span> clearOneTimeCallbacks() {</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>            oneTimeCallbacks.removeAll();</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>        }</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span> </div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>    <span class="keyword">protected</span>:</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>        EventCombiner(<span class="keyword">const</span> EventCombiner&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span> </div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>        EventCombiner&amp; <a class="code hl_function" href="class_sleep_helper.html#a4c086ef306238bde738d7837c0e52bbb">operator=</a>(<span class="keyword">const</span> EventCombiner&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span> </div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>        <span class="keywordtype">void</span> generateEventInternal(std::function&lt;<span class="keywordtype">void</span>(JSONWriter &amp;, <span class="keywordtype">int</span> &amp;)&gt; callback, <span class="keywordtype">char</span> *buf, <span class="keywordtype">size_t</span> maxSize, std::vector&lt;EventInfo&gt; &amp;infoArray);</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span> </div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>        AppCallback&lt;JSONWriter &amp;, int &amp;&gt; callbacks; </div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>        AppCallback&lt;JSONWriter &amp;, int &amp;&gt; oneTimeCallbacks; </div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>        EventHistory eventHistory; </div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>        String eventHistoryKey; </div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>    };</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span><span class="preprocessor">    #endif </span><span class="comment">// HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span> </div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_publish_data.html"> 1223</a></span>    <span class="keyword">class </span><a class="code hl_class" href="class_sleep_helper_1_1_publish_data.html">PublishData</a> {</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_publish_data.html#a763445cc257d0f4dd0ec1a4bd505540e"> 1228</a></span>        <a class="code hl_function" href="class_sleep_helper_1_1_publish_data.html#a763445cc257d0f4dd0ec1a4bd505540e">PublishData</a>() {};</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span> </div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_publish_data.html#a364d423587f430ac2b0885a2d17161eb"> 1235</a></span>        <a class="code hl_function" href="class_sleep_helper_1_1_publish_data.html#a364d423587f430ac2b0885a2d17161eb">PublishData</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#aa90ba496dc252d1bd4ed8c8aa75556f4">eventName</a>) : <a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#aa90ba496dc252d1bd4ed8c8aa75556f4">eventName</a>(<a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#aa90ba496dc252d1bd4ed8c8aa75556f4">eventName</a>) {}</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span> </div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_publish_data.html#a8930cb67261e4a0039e5312f6963448a"> 1244</a></span>        <a class="code hl_function" href="class_sleep_helper_1_1_publish_data.html#a8930cb67261e4a0039e5312f6963448a">PublishData</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#aa90ba496dc252d1bd4ed8c8aa75556f4">eventName</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#a9ee781762eb07afa93e822b94c2d4d42">eventData</a>) : <a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#aa90ba496dc252d1bd4ed8c8aa75556f4">eventName</a>(<a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#aa90ba496dc252d1bd4ed8c8aa75556f4">eventName</a>), <a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#a9ee781762eb07afa93e822b94c2d4d42">eventData</a>(<a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#a9ee781762eb07afa93e822b94c2d4d42">eventData</a>) {}</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span> </div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_publish_data.html#a332e513b51f26727ad96d143358935ec"> 1255</a></span>        <a class="code hl_function" href="class_sleep_helper_1_1_publish_data.html#a332e513b51f26727ad96d143358935ec">PublishData</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#aa90ba496dc252d1bd4ed8c8aa75556f4">eventName</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#a9ee781762eb07afa93e822b94c2d4d42">eventData</a>, PublishFlags <a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#a57ef25839995447b18834bc5b78e59f3">flags</a>) : <a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#aa90ba496dc252d1bd4ed8c8aa75556f4">eventName</a>(<a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#aa90ba496dc252d1bd4ed8c8aa75556f4">eventName</a>), <a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#a9ee781762eb07afa93e822b94c2d4d42">eventData</a>(<a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#a9ee781762eb07afa93e822b94c2d4d42">eventData</a>), <a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#a57ef25839995447b18834bc5b78e59f3">flags</a>(<a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#a57ef25839995447b18834bc5b78e59f3">flags</a>) {}</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span> </div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_publish_data.html#aa90ba496dc252d1bd4ed8c8aa75556f4"> 1257</a></span>        String <a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#aa90ba496dc252d1bd4ed8c8aa75556f4">eventName</a>; </div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_publish_data.html#a9ee781762eb07afa93e822b94c2d4d42"> 1258</a></span>        String <a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#a9ee781762eb07afa93e822b94c2d4d42">eventData</a>; </div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_publish_data.html#a57ef25839995447b18834bc5b78e59f3"> 1259</a></span>        PublishFlags <a class="code hl_variable" href="class_sleep_helper_1_1_publish_data.html#a57ef25839995447b18834bc5b78e59f3">flags</a> = PRIVATE; </div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>    };</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span> </div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="class_sleep_helper.html#a2b7b34ca5957b1ecd4f9bdce18fc30fd">JSONCopy</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *src, JSONWriter &amp;writer);</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span> </div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="class_sleep_helper.html#a2b7b34ca5957b1ecd4f9bdce18fc30fd">JSONCopy</a>(<span class="keyword">const</span> JSONValue &amp;src, JSONWriter &amp;writer);</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span> </div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span> </div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span><span class="preprocessor">#ifndef UNITTEST</span></div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_sleep_configuration_parameters.html"> 1296</a></span>    <span class="keyword">class </span><a class="code hl_class" href="class_sleep_helper_1_1_sleep_configuration_parameters.html">SleepConfigurationParameters</a> {</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>        <span class="comment">// Informational fields to help you determine if you need to modify sleep behavior</span></div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_sleep_configuration_parameters.html#ac0952001f98b2ec5b95142946f4593df"> 1299</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="class_sleep_helper_1_1_sleep_configuration_parameters.html#ac0952001f98b2ec5b95142946f4593df">isConnected</a>; </div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_sleep_configuration_parameters.html#ae6e1b86f503598c0fbbcc5ed58225490"> 1300</a></span>        system_tick_t <a class="code hl_variable" href="class_sleep_helper_1_1_sleep_configuration_parameters.html#ae6e1b86f503598c0fbbcc5ed58225490">timeUntilNextFullWakeMs</a>; </div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_sleep_configuration_parameters.html#a2dea56d54563dffb853d36c2f28d93fd"> 1301</a></span>        time_t <a class="code hl_variable" href="class_sleep_helper_1_1_sleep_configuration_parameters.html#a2dea56d54563dffb853d36c2f28d93fd">nextFullWakeTime</a>; </div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_sleep_configuration_parameters.html#aa91dcc289079b7f0711861d4613c20df"> 1302</a></span>        uint64_t <a class="code hl_variable" href="class_sleep_helper_1_1_sleep_configuration_parameters.html#aa91dcc289079b7f0711861d4613c20df">calculatedMillis</a>; </div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span> </div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>        <span class="comment">// You can update these to change the sleep behavior</span></div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_sleep_configuration_parameters.html#aa32e97d12e57b2d601a20ba2e91eeb1b"> 1305</a></span>        system_tick_t <a class="code hl_variable" href="class_sleep_helper_1_1_sleep_configuration_parameters.html#aa32e97d12e57b2d601a20ba2e91eeb1b">sleepTimeMs</a>; </div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"><a class="line" href="class_sleep_helper_1_1_sleep_configuration_parameters.html#a2eb66744889bfa20bedce252ea25e62c"> 1306</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="class_sleep_helper_1_1_sleep_configuration_parameters.html#a2eb66744889bfa20bedce252ea25e62c">disconnectCellular</a>; </div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>    };</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span> </div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span> </div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"><a class="line" href="group__callbacks.html#gaa1f6f65d443e1d3e3765101e60e1ca04"> 1327</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="group__callbacks.html#gaa1f6f65d443e1d3e3765101e60e1ca04">withSleepConfigurationFunction</a>(std::function&lt;<span class="keywordtype">bool</span>(SystemSleepConfiguration &amp;, <a class="code hl_class" href="class_sleep_helper_1_1_sleep_configuration_parameters.html">SleepConfigurationParameters</a>&amp;)&gt; fn) { </div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>        <a class="code hl_variable" href="class_sleep_helper.html#a77cffbed845c60300be6c6fcaf28f87e">sleepConfigurationFunctions</a>.add(fn); </div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>    }</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span> </div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"><a class="line" href="group__callbacks.html#gac633b93687b39b6b9e5ce18caa205dff"> 1348</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="group__callbacks.html#gac633b93687b39b6b9e5ce18caa205dff">withWakeFunction</a>(std::function&lt;<span class="keywordtype">bool</span>(<span class="keyword">const</span> SystemSleepResult &amp;)&gt; fn) { </div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>        <a class="code hl_variable" href="class_sleep_helper.html#a841620a67c0f98bfee4e9808a8226c3d">wakeFunctions</a>.add(fn); </div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>    }</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span> </div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a72696a8a6b34bf4ccc352f472d7a75bd"> 1361</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="class_sleep_helper.html#a72696a8a6b34bf4ccc352f472d7a75bd">withMinimumCellularOffTime</a>(std::chrono::milliseconds timeMs) { </div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>        <a class="code hl_variable" href="class_sleep_helper.html#a5f9efdd9e57e02116c47754726e8c98b">minimumCellularOffTimeMs</a> = timeMs.count();</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>    }</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span> </div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a92b84dd4543fcbe7e3477ed03cd36b32"> 1374</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="class_sleep_helper.html#a92b84dd4543fcbe7e3477ed03cd36b32">withMinimumSleepTimeMs</a>(std::chrono::milliseconds timeMs) { </div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>        <a class="code hl_variable" href="class_sleep_helper.html#ae0e65c8b5b18958cbd38f44a9d68b92f">minimumSleepTimeMs</a> = timeMs.count();</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>    }</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span> </div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span> </div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span> </div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span> </div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"><a class="line" href="group__callbacks.html#gabf9f04100075adfc2a5ccd27a14db7de"> 1394</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="group__callbacks.html#gabf9f04100075adfc2a5ccd27a14db7de">withSetupFunction</a>(std::function&lt;<span class="keywordtype">bool</span>()&gt; fn) { </div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>        <a class="code hl_variable" href="class_sleep_helper.html#aab6eb4ae918d1cc5f8d3b9f8de4ef233">setupFunctions</a>.<a class="code hl_function" href="class_sleep_helper_1_1_app_callback.html#a4045a1e0364030ccea36c1db55743332">add</a>(fn);</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>    }</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span> </div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"><a class="line" href="group__callbacks.html#ga015eb8ec460526d1dd81b4859823aa7e"> 1410</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="group__callbacks.html#ga015eb8ec460526d1dd81b4859823aa7e">withLoopFunction</a>(std::function&lt;<span class="keywordtype">bool</span>()&gt; fn) { </div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>        <a class="code hl_variable" href="class_sleep_helper.html#a4aa8bc1eef9fc012ace84e22a0c6dd03">loopFunctions</a>.<a class="code hl_function" href="class_sleep_helper_1_1_app_callback.html#a4045a1e0364030ccea36c1db55743332">add</a>(fn); </div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>    }</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span> </div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"><a class="line" href="group__callbacks.html#ga9cdf24fe882a82663a70075aa6dd4a14"> 1434</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="group__callbacks.html#ga9cdf24fe882a82663a70075aa6dd4a14">withDataCaptureFunction</a>(std::function&lt;<span class="keywordtype">bool</span>(<a class="code hl_class" href="class_sleep_helper_1_1_app_callback_state.html">AppCallbackState</a> &amp;state)&gt; fn) {</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>        <a class="code hl_variable" href="class_sleep_helper.html#a0baa5051c4929da8fb0bd27f4ba04baf">dataCaptureFunctions</a>.<a class="code hl_function" href="class_sleep_helper_1_1_app_callback_with_state.html#a2faa88d937fd29dafaeadf150d163c6e">add</a>(fn);</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>    }</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span> </div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"><a class="line" href="group__callbacks.html#gaa8c0f11f4f26ffe05eab19f8935f8b54"> 1458</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="group__callbacks.html#gaa8c0f11f4f26ffe05eab19f8935f8b54">withSleepReadyFunction</a>(std::function&lt;<span class="keywordtype">bool</span>(<a class="code hl_class" href="class_sleep_helper_1_1_app_callback_state.html">AppCallbackState</a> &amp;, system_tick_t)&gt; fn) {</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>        <a class="code hl_variable" href="class_sleep_helper.html#aa5f00e59c77710112d0a436e901f4915">sleepReadyFunctions</a>.add(fn); </div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>    }</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span> </div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"><a class="line" href="group__callbacks.html#gaabfb4418f8fb006b50d8efff7edbee4d"> 1487</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="group__callbacks.html#gaabfb4418f8fb006b50d8efff7edbee4d">withShouldConnectFunction</a>(std::function&lt;<span class="keywordtype">bool</span>(<span class="keywordtype">int</span> &amp;connectConviction, <span class="keywordtype">int</span> &amp;noConnectConviction)&gt; fn) { </div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>        <a class="code hl_variable" href="class_sleep_helper.html#a4dc8cbdd5b7a7ef3d292f3c225011e71">shouldConnectFunctions</a>.<a class="code hl_function" href="class_sleep_helper_1_1_app_callback.html#a4045a1e0364030ccea36c1db55743332">add</a>(fn); </div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>; </div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>    }</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span> </div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"><a class="line" href="group__callbacks.html#gaf9c61f27340b819a67a6cb4c2c1c1115"> 1509</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="group__callbacks.html#gaf9c61f27340b819a67a6cb4c2c1c1115">withWakeOrBootFunction</a>(std::function&lt;<span class="keywordtype">bool</span>(<span class="keywordtype">int</span>)&gt; fn) { </div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>        <a class="code hl_variable" href="class_sleep_helper.html#a935575e1ca2511f137c0922443c5fac5">wakeOrBootFunctions</a>.add(fn); </div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>    }</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span> </div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>    </div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a22d4889a6cb72add134a4557914cb1bf"> 1521</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="class_sleep_helper.html#a22d4889a6cb72add134a4557914cb1bf">withWakeEventName</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *eventName) {</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span>        <a class="code hl_variable" href="class_sleep_helper.html#a82c7ba3b2b42395558fa8c606c7a37ba">wakeEventName</a> = eventName;</div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>    }</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span> </div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span><span class="preprocessor">#if HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;withWakeEventFunction(std::function&lt;<span class="keywordtype">bool</span>(JSONWriter &amp;, <span class="keywordtype">int</span> &amp;)&gt; fn) {</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>        wakeEventFunctions.withCallback(fn);</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>    }</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span><span class="preprocessor">#endif </span><span class="comment">// HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span> </div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span> </div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span><span class="preprocessor">#if HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;withWakeEventOneTimeFunction(std::function&lt;<span class="keywordtype">bool</span>(JSONWriter &amp;, <span class="keywordtype">int</span> &amp;)&gt; fn) {</div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>        wakeEventFunctions.withOneTimeCallback(fn);</div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>    }</div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span><span class="preprocessor">#endif </span><span class="comment">// HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span> </div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span><span class="preprocessor">#if HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;withWakeEventFlagOneTimeFunction(uint64_t flag, std::function&lt;<span class="keywordtype">void</span>(JSONWriter &amp;, <span class="keywordtype">int</span> &amp;)&gt; fn) {</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>        <span class="keywordflow">if</span> ((<a class="code hl_variable" href="class_sleep_helper.html#abaa0d52e950144a4e46cc96b190eee59">eventsEnabled</a> &amp; flag) != 0) {</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>            wakeEventFunctions.withOneTimeCallback([flag, fn](JSONWriter &amp;writer, <span class="keywordtype">int</span> &amp;priority) {</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>                <span class="keyword">const</span> <span class="keywordtype">char</span> *name = <a class="code hl_function" href="class_sleep_helper.html#ad10ad831c85ff13e633db4cf37350743">eventsEnableName</a>(flag);</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>                writer.name(name);</div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>                priority = <a class="code hl_function" href="class_sleep_helper.html#a5f0a9e684db52fa33d784236d4bab32a">eventsEnablePriority</a>(flag);</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>                fn(writer, priority);</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>            });</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>        }</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>    }</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span><span class="preprocessor">    #endif </span><span class="comment">// HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span> </div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span><span class="preprocessor">    #if HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;withEventHistory(<span class="keyword">const</span> <span class="keywordtype">char</span> *path, <span class="keyword">const</span> <span class="keywordtype">char</span> *key) {</div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>        wakeEventFunctions.withEventHistory(path, key);</div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>    }</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span> </div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;addEvent(<span class="keyword">const</span> <span class="keywordtype">char</span> *jsonObj) {</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span>        wakeEventFunctions.addEvent(jsonObj);</div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span>    }</div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span> </div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;addEvent(std::function&lt;<span class="keywordtype">void</span>(JSONWriter &amp;)&gt;callback) {</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>        wakeEventFunctions.addEvent(callback);</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>    }</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span><span class="preprocessor">    #endif </span><span class="comment">// HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span> </div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"><a class="line" href="group__callbacks.html#ga48f3f028336fae8f9b7b56335a2af98f"> 1669</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="group__callbacks.html#ga48f3f028336fae8f9b7b56335a2af98f">withSleepOrResetFunction</a>(std::function&lt;<span class="keywordtype">bool</span>(<span class="keywordtype">bool</span>)&gt; fn) { </div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>        <a class="code hl_variable" href="class_sleep_helper.html#adfe77dceb8caff70bdba400abb3b2533">sleepOrResetFunctions</a>.add(fn); </div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span>    }</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span> </div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"><a class="line" href="group__callbacks.html#ga6e5222c45e18155a9de17cb4350a8fbc"> 1691</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="group__callbacks.html#ga6e5222c45e18155a9de17cb4350a8fbc">withMaximumTimeToConnectFunction</a>(std::function&lt;<span class="keywordtype">bool</span>(system_tick_t ms)&gt; fn) {</div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>        <a class="code hl_variable" href="class_sleep_helper.html#a775b5b367463b986c8c1c929adccf97f">maximumTimeToConnectFunctions</a>.add(fn); </div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>; </div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>    }</div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span> </div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a0e9735e119255ebb5b23a3e8baab6ad6"> 1706</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="class_sleep_helper.html#a0e9735e119255ebb5b23a3e8baab6ad6">withMaximumTimeToConnect</a>(system_tick_t timeMs) { </div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="group__callbacks.html#ga6e5222c45e18155a9de17cb4350a8fbc">withMaximumTimeToConnectFunction</a>([timeMs](system_tick_t ms) {</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>            <span class="keywordflow">return</span> (ms &gt;= timeMs);</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>        }); </div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>    }</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span> </div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#ab8889f82083eb26229ac096907218766"> 1722</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="class_sleep_helper.html#ab8889f82083eb26229ac096907218766">withMaximumTimeToConnect</a>(std::chrono::milliseconds timeMs) { </div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="group__callbacks.html#ga6e5222c45e18155a9de17cb4350a8fbc">withMaximumTimeToConnectFunction</a>([timeMs](system_tick_t ms) {</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>            <span class="keywordflow">return</span> (ms &gt;= timeMs.count());</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>        }); </div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>    }</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span> </div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"><a class="line" href="group__callbacks.html#gae5024de1d0301a413314ae08f1676399"> 1746</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="group__callbacks.html#gae5024de1d0301a413314ae08f1676399">withNoConnectionFunction</a>(std::function&lt;<span class="keywordtype">bool</span>(<a class="code hl_class" href="class_sleep_helper_1_1_app_callback_state.html">AppCallbackState</a> &amp;state)&gt; fn) {</div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>        <a class="code hl_variable" href="class_sleep_helper.html#abba9753723ae55106df460a3b5bae4e9">noConnectionFunctions</a>.<a class="code hl_function" href="class_sleep_helper_1_1_app_callback_with_state.html#a2faa88d937fd29dafaeadf150d163c6e">add</a>(fn); </div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span>    }</div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span> </div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a2a3dbce12df5e3d4766473beb367695d"> 1757</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="class_sleep_helper.html#a2a3dbce12df5e3d4766473beb367695d">withMinimumConnectedTime</a>(system_tick_t timeMs) { </div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="group__callbacks.html#gaa8c0f11f4f26ffe05eab19f8935f8b54">withSleepReadyFunction</a>([timeMs](<a class="code hl_class" href="class_sleep_helper_1_1_app_callback_state.html">AppCallbackState</a> &amp;state, system_tick_t ms) {</div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>            <span class="keywordflow">return</span> (ms &lt; timeMs);</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>        }); </div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>    }</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span> </div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a68ae8f2760ead87883343d1d418b977c"> 1769</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="class_sleep_helper.html#a68ae8f2760ead87883343d1d418b977c">withMinimumConnectedTime</a>(std::chrono::milliseconds timeMs) { </div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="group__callbacks.html#gaa8c0f11f4f26ffe05eab19f8935f8b54">withSleepReadyFunction</a>([timeMs](<a class="code hl_class" href="class_sleep_helper_1_1_app_callback_state.html">AppCallbackState</a> &amp;state, system_tick_t ms) {</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>            <span class="keywordflow">return</span> (ms &lt; timeMs.count());</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>        }); </div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>    }</div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span> </div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span><span class="preprocessor">#if HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;withSettingChangeFunction(std::function&lt;<span class="keywordtype">bool</span>(<span class="keyword">const</span> <span class="keywordtype">char</span> *)&gt; fn) { </div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>        settingsFile.withSettingChangeFunction(fn);</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>    }</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span> </div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>    </div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span><span class="preprocessor">#if HAL_PLATFORM_POWER_MANAGEMENT</span></div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="class_sleep_helper.html#a4ab2c66f32bb196cfc556953a07658e9">withShouldConnectMinimumSoC</a>(<span class="keywordtype">float</span> minSoC, <span class="keywordtype">int</span> conviction = 100) {</div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="group__callbacks.html#gaabfb4418f8fb006b50d8efff7edbee4d">withShouldConnectFunction</a>([minSoC, conviction](<span class="keywordtype">int</span> &amp;connectConviction, <span class="keywordtype">int</span> &amp;noConnectConviction) {            </div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>            <span class="keywordtype">float</span> soc = System.batteryCharge();</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>            <span class="keywordflow">if</span> (soc &gt;= 0 &amp;&amp; soc &lt; minSoC) {</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>                <span class="comment">// Battery is known and too low to connect</span></div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>                noConnectConviction = conviction;</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>            }</div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>        });</div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>    }</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a4ab2c66f32bb196cfc556953a07658e9"> 1831</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="class_sleep_helper.html#a4ab2c66f32bb196cfc556953a07658e9">withShouldConnectMinimumSoC</a>(<span class="keywordtype">float</span> minSoC, <span class="keywordtype">int</span> conviction = 100) {</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>    }</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span> </div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span> </div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span><span class="preprocessor">#if defined(__AB1805RK_H) || defined(DOXYGEN_DO_NOT_DOCUMENT)</span></div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a9204854720f3fbd1b17ead4ac1e01ef2"> 1846</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="class_sleep_helper.html#a9204854720f3fbd1b17ead4ac1e01ef2">withAB1805_WDT</a>(AB1805 &amp;ab1805) {</div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>        <a class="code hl_function" href="group__callbacks.html#gac633b93687b39b6b9e5ce18caa205dff">withWakeFunction</a>([&amp;ab1805](<span class="keyword">const</span> SystemSleepResult &amp;) {</div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>            <span class="comment">// Resume watchdog after sleep</span></div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>            ab1805.resumeWDT();</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>        });</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>        <a class="code hl_function" href="group__callbacks.html#ga48f3f028336fae8f9b7b56335a2af98f">withSleepOrResetFunction</a>([&amp;ab1805](<span class="keywordtype">bool</span>) {</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>            ab1805.stopWDT();</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>        });</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>    }</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span> </div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span><span class="preprocessor">#if defined(__PUBLISHQUEUEPOSIXRK_H) || defined(DOXYGEN_DO_NOT_DOCUMENT)</span></div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#af8a341c2c724039fefbda0396596722a"> 1870</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="class_sleep_helper.html#af8a341c2c724039fefbda0396596722a">withPublishQueuePosixRK</a>(std::chrono::milliseconds maxTimeToPublish = 0ms) {</div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>        <a class="code hl_function" href="group__callbacks.html#gaf9c61f27340b819a67a6cb4c2c1c1115">withWakeOrBootFunction</a>([](<span class="keywordtype">int</span>) {</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>            <span class="comment">// Default to paused queue on PublishQueuePosix</span></div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>            PublishQueuePosix::instance().setPausePublishing(<span class="keyword">true</span>);</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>        });</div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span> </div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>        <a class="code hl_function" href="group__callbacks.html#gaa8c0f11f4f26ffe05eab19f8935f8b54">withSleepReadyFunction</a>([maxTimeToPublish](<a class="code hl_class" href="class_sleep_helper_1_1_app_callback_state.html">AppCallbackState</a> &amp;state, system_tick_t ms) {</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>            <span class="keywordtype">bool</span> canSleep = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span> </div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>            <span class="keywordflow">if</span> (state.<a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_state.html#af56d563f066eca5a01f75b28a24f88b9">callbackState</a> == <a class="code hl_variable" href="class_sleep_helper_1_1_app_callback_state.html#a8c3052d3dd1bc6b62f9b212a613be1fa">AppCallbackState::CALLBACK_STATE_START</a>) { </div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>                <span class="comment">// On first call to sleep ready, resume publishing</span></div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>                PublishQueuePosix::instance().setPausePublishing(false);</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>                state.callbackState = 1;</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>            }</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span>                if (maxTimeToPublish.count() != 0 &amp;&amp; ms &gt;= maxTimeToPublish.count()) {</div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>                    PublishQueuePosix::instance().setPausePublishing(true);</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>                }</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>                canSleep = PublishQueuePosix::instance().getCanSleep();</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>                if (canSleep) {</div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>                    PublishQueuePosix::instance().setPausePublishing(<span class="keyword">true</span>);</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>                    PublishQueuePosix::instance().writeQueueToFiles();</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>                }</div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>            }</div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span> </div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>            <span class="comment">// This callback returns false when you can sleep, and true to stay awake, so reverse boolean</span></div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>            <span class="keywordflow">return</span> !canSleep;</div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span>        });</div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span> </div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>    }</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span> </div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span> </div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#aa293cbbab40d07245d2006a71f696e6f"> 1943</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="class_sleep_helper.html#aa293cbbab40d07245d2006a71f696e6f">withTimeConfig</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *tzConfig) {</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>        LocalTime::instance().withConfig(tzConfig);</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span>    }</div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span> </div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>    <span class="comment">// When adding a constant here, be sure to update SleepHelperWakeEvents _wakeEvents[] as well!</span></div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span> </div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a6dc7db83a9aae3830f7abf3ba7844f37"> 1950</a></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint64_t eventsEnabledWakeReason           = 0x0000000000000001ul;  </div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#aec2cc75a31cf438ba12354b9fd44dd27"> 1951</a></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint64_t eventsEnabledTimeToConnect        = 0x0000000000000002ul;  </div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a17bc2b91cf56c340abfd6081c0478351"> 1952</a></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint64_t eventsEnabledResetReason          = 0x0000000000000004ul;  </div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a5846a339bef13c42aa89175f8966c46c"> 1953</a></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint64_t eventsEnabledBatterySoC           = 0x0000000000000008ul;  </div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span> </div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#ab6548934c48db415140e330e94d8233a"> 1961</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="class_sleep_helper.html#ab6548934c48db415140e330e94d8233a">withEventsEnabledEnable</a>(uint64_t flag) {</div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span>        eventsEnabled |= flag;</div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span>    }</div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>    </div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a77f153d46cb8aac85b889c0730135451"> 1972</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="class_sleep_helper.html#a77f153d46cb8aac85b889c0730135451">withEventsEnabledDisable</a>(uint64_t flag) {</div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span>        eventsEnabled &amp;= ~flag;</div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span>    }</div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span>    </div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span> </div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a446ab9ecceecde925f3d23bb71a98612"> 1985</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="class_sleep_helper.html#a446ab9ecceecde925f3d23bb71a98612">eventsEnableEnabled</a>(uint64_t flag)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span>        <span class="keywordflow">return</span> (eventsEnabled &amp; flag) != 0;</div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span>    }</div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span> </div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span>    <span class="keyword">static</span> <span class="keywordtype">int</span> eventsEnablePriority(uint64_t flag);</div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span> </div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *eventsEnableName(uint64_t flag);</div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span> </div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span>    <span class="comment">// Logging enable flags</span></div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a8bf99b92d73b3096465bc6d7d290823a"> 2006</a></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint64_t logEnabledNormal                  = 0x0000000000fffffful;  </div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#ab03d0cf6aec6e4ce160979c48c1a3dc8"> 2007</a></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint64_t logEnabledVerbose                 = 0x000000ffff000000ul;  </div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#af8a5c5d49cf963e92e8c75a924f145ac"> 2008</a></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint64_t logEnabledDebugging               = 0x00ffff0000000000ul;  </div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#af13f910d531d1b2ed2e379a606eab7ec"> 2009</a></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint64_t logEnabledAll                     = 0xfffffffffffffffful;  </div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span> </div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>    <span class="comment">// logEnabledNormal</span></div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#ad77a84d38fd6b8b4e0cf30dd3b07dcfc"> 2012</a></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint64_t logEnabledPublish                 = 0x0000000000000001ul;  </div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span> </div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span>    <span class="comment">// logEnabledVerbose</span></div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span> </div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>    <span class="comment">// logEnabledDebugging</span></div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a94c46bea3a502d7735daa47f2b064d5e"> 2017</a></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint64_t logEnabledPublishData             = 0x0000010000000000ul;  </div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#afde8d070c56c313c3b83890bfd3b8b78"> 2018</a></span>    <span class="keyword">static</span> <span class="keyword">const</span> uint64_t logEnabledHistoryData             = 0x0000020000000000ul;  </div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span> </div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a4ab3fd543aa140b9887b682bb4c5d5aa"> 2026</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="class_sleep_helper.html#a4ab3fd543aa140b9887b682bb4c5d5aa">withLogEnabledEnable</a>(uint64_t flag) {</div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span>        logEnabled |= flag;</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span>    }</div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span>    </div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#aac66e90c2d804447b06aeea403b4cbd5"> 2037</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="class_sleep_helper.html#aac66e90c2d804447b06aeea403b4cbd5">withLogEnabledDisable</a>(uint64_t flag) {</div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>        logEnabled &amp;= ~flag;</div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span>    }</div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span>    </div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#ade486a051d5f7aea0b7a08410dc1844c"> 2049</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="class_sleep_helper.html#ade486a051d5f7aea0b7a08410dc1844c">logEnableEnabled</a>(uint64_t flag)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span>        <span class="keywordflow">return</span> (logEnabled &amp; flag) != 0;</div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span>    }</div>
<div class="line"><a id="l02052" name="l02052"></a><span class="lineno"> 2052</span> </div>
<div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span> </div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a34fe97ee173daddbcf2cdb096d83249f"> 2062</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> &amp;<a class="code hl_function" href="class_sleep_helper.html#a34fe97ee173daddbcf2cdb096d83249f">withSleepEnabled</a>(<span class="keywordtype">bool</span> sleepEnabled) {</div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span>        this-&gt;sleepEnabled = sleepEnabled;</div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span>    }</div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"> 2066</span> </div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#aee0c6d41a776c14378cebbcc67c06a3e"> 2073</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="class_sleep_helper.html#aee0c6d41a776c14378cebbcc67c06a3e">getSleepEnabled</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span>        <span class="keywordflow">return</span> sleepEnabled;</div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span>    }</div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span> </div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span> </div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span>    <span class="keywordtype">void</span> setup();</div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span> </div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span>    <span class="keywordtype">void</span> loop();</div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span> </div>
<div class="line"><a id="l02092" name="l02092"></a><span class="lineno"> 2092</span><span class="preprocessor">#if HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span>    SettingsFile settingsFile;</div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span> </div>
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"> 2106</span>    PersistentData persistentData;</div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span><span class="preprocessor">#endif </span><span class="comment">// HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span> </div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a39398c7821ad9cdec66c4836f11aaba8"> 2113</a></span>    LocalTimeScheduleManager <a class="code hl_variable" href="class_sleep_helper.html#a39398c7821ad9cdec66c4836f11aaba8">scheduleManager</a>;</div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span> </div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a932668ac8e63a749f757c60878958c42"> 2120</a></span>    LocalTimeSchedule &amp;<a class="code hl_function" href="class_sleep_helper.html#a932668ac8e63a749f757c60878958c42">getScheduleQuick</a>() {</div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span>        <span class="keywordflow">return</span> scheduleManager.getScheduleByName(<span class="stringliteral">&quot;quick&quot;</span>);</div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span>    }</div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span> </div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a192bde753499516571c45387d29f202b"> 2129</a></span>    LocalTimeSchedule &amp;<a class="code hl_function" href="class_sleep_helper.html#a192bde753499516571c45387d29f202b">getScheduleFull</a>() {</div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span>        <span class="keywordflow">return</span> scheduleManager.getScheduleByName(<span class="stringliteral">&quot;full&quot;</span>);</div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span>    }</div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span> </div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a59174d8e958315d585a89855f7ef87d2"> 2139</a></span>    LocalTimeSchedule &amp;<a class="code hl_function" href="class_sleep_helper.html#a59174d8e958315d585a89855f7ef87d2">getScheduleDataCapture</a>() {</div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span>        <span class="keywordflow">return</span> scheduleManager.getScheduleByName(<span class="stringliteral">&quot;data&quot;</span>);</div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span>    }</div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span> </div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span> </div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a29ced5353ff022adbdfbe33fd67550b5"> 2144</a></span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> WAKEUP_REASON_SETUP        = 0x10001; </div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a288d5fa4a7bb941d1b75d83675575921"> 2145</a></span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> WAKEUP_REASON_NO_SLEEP     = 0x10002; </div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span> </div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span> </div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span><span class="keyword">protected</span>:</div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a>();</div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span> </div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span>    <span class="keyword">virtual</span> <a class="code hl_class" href="class_sleep_helper.html">~SleepHelper</a>();</div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span> </div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#af61ceb6581809f8166c32e1eb5bbda92"> 2164</a></span>    <a class="code hl_function" href="class_sleep_helper.html#af61ceb6581809f8166c32e1eb5bbda92">SleepHelper</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span> </div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a4c086ef306238bde738d7837c0e52bbb"> 2169</a></span>    <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a>&amp; <a class="code hl_function" href="class_sleep_helper.html#a4c086ef306238bde738d7837c0e52bbb">operator=</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span> </div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span> </div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span><span class="preprocessor">#ifndef UNITTEST</span></div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span>    <span class="keywordtype">void</span> systemEventHandler(system_event_t event, <span class="keywordtype">int</span> param);</div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span> </div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span>    <span class="keyword">static</span> <span class="keywordtype">void</span> systemEventHandlerStatic(system_event_t event, <span class="keywordtype">int</span> param);</div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span> </div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span>    <span class="keywordtype">void</span> calculateSleepSettings(<span class="keywordtype">bool</span> isConnected);</div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span> </div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span>    <span class="keywordtype">void</span> dataCaptureHandler();</div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span> </div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>    <span class="keywordtype">void</span> stateHandlerStart();</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span> </div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span>    <span class="keywordtype">void</span> stateHandlerConnectWait();</div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span> </div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span>    <span class="keywordtype">void</span> stateHandlerTimeValidWait();</div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span> </div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span>    <span class="keywordtype">void</span> stateHandlerConnectedStart();</div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span> </div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span>    </div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>    <span class="keywordtype">void</span> stateHandlerConnectedWakeEvents();</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span> </div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"> 2280</span>    <span class="keywordtype">void</span> stateHandlerConnected();</div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span> </div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span>    <span class="keywordtype">void</span> stateHandlerPublishWait();</div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span> </div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span>    <span class="keywordtype">void</span> stateHandlerPublishRateLimit();</div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span> </div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span>    <span class="keywordtype">void</span> stateHandlerReconnectWait();</div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span> </div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span>    <span class="keywordtype">void</span> stateHandlerNoConnection();</div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span> </div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span>    <span class="keywordtype">void</span> stateHandlerDisconnectBeforeSleep();</div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"> 2339</span> </div>
<div class="line"><a id="l02348" name="l02348"></a><span class="lineno"> 2348</span>    <span class="keywordtype">void</span> stateHandlerDisconnectWait();</div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"> 2349</span> </div>
<div class="line"><a id="l02358" name="l02358"></a><span class="lineno"> 2358</span>    <span class="keywordtype">void</span> stateHandlerWaitCellularDisconnected();</div>
<div class="line"><a id="l02359" name="l02359"></a><span class="lineno"> 2359</span> </div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span>    <span class="keywordtype">void</span> stateHandlerWaitCellularOff();</div>
<div class="line"><a id="l02367" name="l02367"></a><span class="lineno"> 2367</span> </div>
<div class="line"><a id="l02380" name="l02380"></a><span class="lineno"> 2380</span>    <span class="keywordtype">void</span> stateHandlerSleep();</div>
<div class="line"><a id="l02381" name="l02381"></a><span class="lineno"> 2381</span> </div>
<div class="line"><a id="l02391" name="l02391"></a><span class="lineno"> 2391</span>    <span class="keywordtype">void</span> stateHandlerSleepDone();</div>
<div class="line"><a id="l02392" name="l02392"></a><span class="lineno"> 2392</span>    </div>
<div class="line"><a id="l02399" name="l02399"></a><span class="lineno"> 2399</span>    <span class="keywordtype">void</span> stateHandlerSleepShort();</div>
<div class="line"><a id="l02400" name="l02400"></a><span class="lineno"> 2400</span> </div>
<div class="line"><a id="l02401" name="l02401"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a77cffbed845c60300be6c6fcaf28f87e"> 2401</a></span>    <a class="code hl_class" href="class_sleep_helper_1_1_app_callback.html">AppCallback&lt;SystemSleepConfiguration &amp;, SleepConfigurationParameters&amp;&gt;</a> <a class="code hl_variable" href="class_sleep_helper.html#a77cffbed845c60300be6c6fcaf28f87e">sleepConfigurationFunctions</a>; </div>
<div class="line"><a id="l02402" name="l02402"></a><span class="lineno"> 2402</span> </div>
<div class="line"><a id="l02403" name="l02403"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a841620a67c0f98bfee4e9808a8226c3d"> 2403</a></span>    <a class="code hl_class" href="class_sleep_helper_1_1_app_callback.html">AppCallback&lt;const SystemSleepResult &amp;&gt;</a> <a class="code hl_variable" href="class_sleep_helper.html#a841620a67c0f98bfee4e9808a8226c3d">wakeFunctions</a>; </div>
<div class="line"><a id="l02404" name="l02404"></a><span class="lineno"> 2404</span> </div>
<div class="line"><a id="l02405" name="l02405"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#ad02621204c1827fd6e2cbb3875462266"> 2405</a></span>    SystemSleepConfiguration <a class="code hl_variable" href="class_sleep_helper.html#ad02621204c1827fd6e2cbb3875462266">sleepConfig</a>; </div>
<div class="line"><a id="l02406" name="l02406"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a566a4ccb69e8cd74971906615536e53c"> 2406</a></span>    <a class="code hl_class" href="class_sleep_helper_1_1_sleep_configuration_parameters.html">SleepConfigurationParameters</a> <a class="code hl_variable" href="class_sleep_helper.html#a566a4ccb69e8cd74971906615536e53c">sleepParams</a>;  </div>
<div class="line"><a id="l02407" name="l02407"></a><span class="lineno"> 2407</span> </div>
<div class="line"><a id="l02408" name="l02408"></a><span class="lineno"> 2408</span><span class="preprocessor">#endif </span><span class="comment">// UNITTEST</span></div>
<div class="line"><a id="l02409" name="l02409"></a><span class="lineno"> 2409</span> </div>
<div class="line"><a id="l02410" name="l02410"></a><span class="lineno"> 2410</span> </div>
<div class="line"><a id="l02411" name="l02411"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#aab6eb4ae918d1cc5f8d3b9f8de4ef233"> 2411</a></span>    <a class="code hl_class" href="class_sleep_helper_1_1_app_callback.html">AppCallback&lt;&gt;</a> <a class="code hl_variable" href="class_sleep_helper.html#aab6eb4ae918d1cc5f8d3b9f8de4ef233">setupFunctions</a>; </div>
<div class="line"><a id="l02412" name="l02412"></a><span class="lineno"> 2412</span> </div>
<div class="line"><a id="l02413" name="l02413"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a4aa8bc1eef9fc012ace84e22a0c6dd03"> 2413</a></span>    <a class="code hl_class" href="class_sleep_helper_1_1_app_callback.html">AppCallback&lt;&gt;</a> <a class="code hl_variable" href="class_sleep_helper.html#a4aa8bc1eef9fc012ace84e22a0c6dd03">loopFunctions</a>; </div>
<div class="line"><a id="l02414" name="l02414"></a><span class="lineno"> 2414</span> </div>
<div class="line"><a id="l02415" name="l02415"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a0baa5051c4929da8fb0bd27f4ba04baf"> 2415</a></span>    <a class="code hl_class" href="class_sleep_helper_1_1_app_callback_with_state.html">AppCallbackWithState&lt;&gt;</a> <a class="code hl_variable" href="class_sleep_helper.html#a0baa5051c4929da8fb0bd27f4ba04baf">dataCaptureFunctions</a>; </div>
<div class="line"><a id="l02416" name="l02416"></a><span class="lineno"> 2416</span> </div>
<div class="line"><a id="l02417" name="l02417"></a><span class="lineno"> 2417</span> </div>
<div class="line"><a id="l02418" name="l02418"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#aa5f00e59c77710112d0a436e901f4915"> 2418</a></span>    <a class="code hl_class" href="class_sleep_helper_1_1_app_callback_with_state.html">AppCallbackWithState&lt;system_tick_t&gt;</a> <a class="code hl_variable" href="class_sleep_helper.html#aa5f00e59c77710112d0a436e901f4915">sleepReadyFunctions</a>; </div>
<div class="line"><a id="l02419" name="l02419"></a><span class="lineno"> 2419</span> </div>
<div class="line"><a id="l02420" name="l02420"></a><span class="lineno"> 2420</span> </div>
<div class="line"><a id="l02421" name="l02421"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a4dc8cbdd5b7a7ef3d292f3c225011e71"> 2421</a></span>    <a class="code hl_class" href="class_sleep_helper_1_1_should_connect_app_callback.html">ShouldConnectAppCallback</a> <a class="code hl_variable" href="class_sleep_helper.html#a4dc8cbdd5b7a7ef3d292f3c225011e71">shouldConnectFunctions</a>; </div>
<div class="line"><a id="l02422" name="l02422"></a><span class="lineno"> 2422</span> </div>
<div class="line"><a id="l02423" name="l02423"></a><span class="lineno"> 2423</span> </div>
<div class="line"><a id="l02424" name="l02424"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a935575e1ca2511f137c0922443c5fac5"> 2424</a></span>    <a class="code hl_class" href="class_sleep_helper_1_1_app_callback.html">AppCallback&lt;int&gt;</a> <a class="code hl_variable" href="class_sleep_helper.html#a935575e1ca2511f137c0922443c5fac5">wakeOrBootFunctions</a>; </div>
<div class="line"><a id="l02425" name="l02425"></a><span class="lineno"> 2425</span> </div>
<div class="line"><a id="l02426" name="l02426"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#adfe77dceb8caff70bdba400abb3b2533"> 2426</a></span>    <a class="code hl_class" href="class_sleep_helper_1_1_app_callback.html">AppCallback&lt;bool&gt;</a> <a class="code hl_variable" href="class_sleep_helper.html#adfe77dceb8caff70bdba400abb3b2533">sleepOrResetFunctions</a>; </div>
<div class="line"><a id="l02427" name="l02427"></a><span class="lineno"> 2427</span> </div>
<div class="line"><a id="l02428" name="l02428"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a775b5b367463b986c8c1c929adccf97f"> 2428</a></span>    <a class="code hl_class" href="class_sleep_helper_1_1_app_callback.html">AppCallback&lt;system_tick_t&gt;</a> <a class="code hl_variable" href="class_sleep_helper.html#a775b5b367463b986c8c1c929adccf97f">maximumTimeToConnectFunctions</a>; </div>
<div class="line"><a id="l02429" name="l02429"></a><span class="lineno"> 2429</span> </div>
<div class="line"><a id="l02436" name="l02436"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#abba9753723ae55106df460a3b5bae4e9"> 2436</a></span>    <a class="code hl_class" href="class_sleep_helper_1_1_app_callback_with_state.html">AppCallbackWithState&lt;&gt;</a> <a class="code hl_variable" href="class_sleep_helper.html#abba9753723ae55106df460a3b5bae4e9">noConnectionFunctions</a>;</div>
<div class="line"><a id="l02437" name="l02437"></a><span class="lineno"> 2437</span> </div>
<div class="line"><a id="l02438" name="l02438"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a82c7ba3b2b42395558fa8c606c7a37ba"> 2438</a></span>    String wakeEventName = <span class="stringliteral">&quot;sleepHelper&quot;</span>; </div>
<div class="line"><a id="l02439" name="l02439"></a><span class="lineno"> 2439</span> </div>
<div class="line"><a id="l02440" name="l02440"></a><span class="lineno"> 2440</span><span class="preprocessor">#if HAL_PLATFORM_FILESYSTEM || defined(UNITTEST)</span></div>
<div class="line"><a id="l02441" name="l02441"></a><span class="lineno"> 2441</span>    EventCombiner wakeEventFunctions; </div>
<div class="line"><a id="l02442" name="l02442"></a><span class="lineno"> 2442</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02443" name="l02443"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a49ea32a31eb630d9ea3996a17eaace3e"> 2443</a></span>    <span class="keywordtype">int</span> wakeReasonInt = 0; </div>
<div class="line"><a id="l02444" name="l02444"></a><span class="lineno"> 2444</span> </div>
<div class="line"><a id="l02445" name="l02445"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#aff3f29183087973b925e04186e73165b"> 2445</a></span>    std::vector&lt;PublishData&gt; <a class="code hl_variable" href="class_sleep_helper.html#aff3f29183087973b925e04186e73165b">publishData</a>; </div>
<div class="line"><a id="l02446" name="l02446"></a><span class="lineno"> 2446</span> </div>
<div class="line"><a id="l02452" name="l02452"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#abaa0d52e950144a4e46cc96b190eee59"> 2452</a></span>    uint64_t eventsEnabled = 0xfffffffffffffffful;</div>
<div class="line"><a id="l02453" name="l02453"></a><span class="lineno"> 2453</span> </div>
<div class="line"><a id="l02457" name="l02457"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a2102dcaaa95f2cb37717ade2cb1c0f1b"> 2457</a></span>    <span class="keywordtype">bool</span> sleepEnabled = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02458" name="l02458"></a><span class="lineno"> 2458</span> </div>
<div class="line"><a id="l02464" name="l02464"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a09b263fcc80c29a710e8eb1ce8a09110"> 2464</a></span>    uint64_t logEnabled = logEnabledNormal;</div>
<div class="line"><a id="l02465" name="l02465"></a><span class="lineno"> 2465</span> </div>
<div class="line"><a id="l02466" name="l02466"></a><span class="lineno"> 2466</span><span class="preprocessor">#ifndef UNITTEST</span></div>
<div class="line"><a id="l02467" name="l02467"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a5f9efdd9e57e02116c47754726e8c98b"> 2467</a></span>    system_tick_t minimumCellularOffTimeMs = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(13min).count(); </div>
<div class="line"><a id="l02468" name="l02468"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#ae0e65c8b5b18958cbd38f44a9d68b92f"> 2468</a></span>    system_tick_t minimumSleepTimeMs = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(10s).count(); </div>
<div class="line"><a id="l02469" name="l02469"></a><span class="lineno"> 2469</span> </div>
<div class="line"><a id="l02470" name="l02470"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a9cda0d070ecd63b3df79215cbd2bd300"> 2470</a></span>    std::function&lt;void(<a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a>&amp;)&gt; stateHandler = &amp;<a class="code hl_function" href="class_sleep_helper.html#ae458f2222f1fb920f5ea59976ec5f758">SleepHelper::stateHandlerStart</a>; </div>
<div class="line"><a id="l02471" name="l02471"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#ada560a51075ce32ada364ec6af9a3151"> 2471</a></span>    system_tick_t stateTime = 0; </div>
<div class="line"><a id="l02472" name="l02472"></a><span class="lineno"> 2472</span> </div>
<div class="line"><a id="l02473" name="l02473"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#ad187ab04c4dfc6516c8ab23463487a83"> 2473</a></span>    system_tick_t connectAttemptStartMillis = 0; </div>
<div class="line"><a id="l02474" name="l02474"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a50dc41831dd74ca2888869102fa3e079"> 2474</a></span>    system_tick_t reconnectAttemptStartMillis = 0; </div>
<div class="line"><a id="l02475" name="l02475"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#af965737c47641547795d9956da609e14"> 2475</a></span>    system_tick_t networkConnectedMillis = 0; </div>
<div class="line"><a id="l02476" name="l02476"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a27b8cffe89790c41d4e0f78f6e53ad15"> 2476</a></span>    system_tick_t connectedStartMillis = 0; </div>
<div class="line"><a id="l02477" name="l02477"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a7cc5d24e3dee3010d326fb639a6d4227"> 2477</a></span>    system_tick_t lastEventHistoryCheckMillis = 0; </div>
<div class="line"><a id="l02478" name="l02478"></a><span class="lineno"> 2478</span> </div>
<div class="line"><a id="l02479" name="l02479"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#ae26d1ab394fe449c9cfb4c9755dbd226"> 2479</a></span>    <span class="keywordtype">bool</span> outOfMemory = <span class="keyword">false</span>; </div>
<div class="line"><a id="l02480" name="l02480"></a><span class="lineno"> 2480</span>    </div>
<div class="line"><a id="l02487" name="l02487"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a827e17ce8073dd989d7984031f9ee70f"> 2487</a></span>    <span class="keywordtype">bool</span> dataCaptureActive = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02488" name="l02488"></a><span class="lineno"> 2488</span> </div>
<div class="line"><a id="l02492" name="l02492"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a8ab89009cbd7d35fa2b700cfedbfbe8e"> 2492</a></span>    std::vector&lt;String&gt; <a class="code hl_variable" href="class_sleep_helper.html#a8ab89009cbd7d35fa2b700cfedbfbe8e">wakeEventPayload</a>;</div>
<div class="line"><a id="l02493" name="l02493"></a><span class="lineno"> 2493</span> </div>
<div class="line"><a id="l02497" name="l02497"></a><span class="lineno"> 2497</span><span class="preprocessor">#if Wiring_Cellular</span></div>
<div class="line"><a id="l02498" name="l02498"></a><span class="lineno"> 2498</span>    NetworkClass &amp;network = Cellular;</div>
<div class="line"><a id="l02499" name="l02499"></a><span class="lineno"> 2499</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02500" name="l02500"></a><span class="lineno"> 2500</span><span class="preprocessor">#if Wiring_WiFi</span></div>
<div class="line"><a id="l02501" name="l02501"></a><span class="lineno"> 2501</span>    NetworkClass &amp;network = WiFi;</div>
<div class="line"><a id="l02502" name="l02502"></a><span class="lineno"> 2502</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02503" name="l02503"></a><span class="lineno"> 2503</span> </div>
<div class="line"><a id="l02504" name="l02504"></a><span class="lineno"> 2504</span><span class="preprocessor">#endif </span><span class="comment">// UNITTEST</span></div>
<div class="line"><a id="l02505" name="l02505"></a><span class="lineno"> 2505</span> </div>
<div class="line"><a id="l02514" name="l02514"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#ad74eb51eefc7205b133be4fa58e32718"> 2514</a></span>    Logger <a class="code hl_variable" href="class_sleep_helper.html#ad74eb51eefc7205b133be4fa58e32718">appLog</a>;</div>
<div class="line"><a id="l02515" name="l02515"></a><span class="lineno"> 2515</span> </div>
<div class="line"><a id="l02516" name="l02516"></a><span class="lineno"> 2516</span> </div>
<div class="line"><a id="l02522" name="l02522"></a><span class="lineno"><a class="line" href="class_sleep_helper.html#a96e621d2b5d04ae764605bc5bf8ec185"> 2522</a></span>    <span class="keyword">static</span> <a class="code hl_class" href="class_sleep_helper.html">SleepHelper</a> *<a class="code hl_variable" href="class_sleep_helper.html#a96e621d2b5d04ae764605bc5bf8ec185">_instance</a>;</div>
<div class="line"><a id="l02523" name="l02523"></a><span class="lineno"> 2523</span> </div>
<div class="line"><a id="l02524" name="l02524"></a><span class="lineno"> 2524</span>};</div>
<div class="line"><a id="l02525" name="l02525"></a><span class="lineno"> 2525</span><span class="preprocessor">#endif  </span><span class="comment">/* __SLEEPHELPER_H */</span><span class="preprocessor"></span></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_html"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback.html">SleepHelper::AppCallback</a></div><div class="ttdoc">Base class for a list of zero or more callback functions.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:156</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_html_a1fa6bca65c3b724418572a3890e213ab"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback.html#a1fa6bca65c3b724418572a3890e213ab">SleepHelper::AppCallback::untilTrue</a></div><div class="ttdeci">bool untilTrue(bool defaultResult, Types... args)</div><div class="ttdoc">Calls callbacks until the first one returns true. The others are not called.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:192</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_html_a2c991e67a5341f63edae20b133bb1a13"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback.html#a2c991e67a5341f63edae20b133bb1a13">SleepHelper::AppCallback::removeAll</a></div><div class="ttdeci">void removeAll()</div><div class="ttdoc">Remove all registered callbacks.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:270</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_html_a3b48734a055e9f4f6161b6b5ad3ed80a"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback.html#a3b48734a055e9f4f6161b6b5ad3ed80a">SleepHelper::AppCallback::whileAnyTrue</a></div><div class="ttdeci">bool whileAnyTrue(bool defaultResult, Types... args)</div><div class="ttdoc">Calls all callbacks. Returns true if any returns true, but all are still called.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:211</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_html_a4045a1e0364030ccea36c1db55743332"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback.html#a4045a1e0364030ccea36c1db55743332">SleepHelper::AppCallback::add</a></div><div class="ttdeci">void add(std::function&lt; bool(Types... args)&gt; callback)</div><div class="ttdoc">Adds a callback function. Zero or more callbacks can be defined.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:165</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_html_a420d79bd8b13cba2a00ffb9c9c428f49"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback.html#a420d79bd8b13cba2a00ffb9c9c428f49">SleepHelper::AppCallback::forEach</a></div><div class="ttdeci">void forEach(Types... args)</div><div class="ttdoc">Calls all callbacks, regardless of return value returned.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:176</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_html_a5293c6b263cf3d1f0fe81803f28a35b4"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback.html#a5293c6b263cf3d1f0fe81803f28a35b4">SleepHelper::AppCallback::untilFalse</a></div><div class="ttdeci">bool untilFalse(bool defaultResult, Types... args)</div><div class="ttdoc">Calls all callbacks until the first one returns false, then returns without calling others.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:233</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_html_a96ceeb870605fa707cfe6e2d38b840c2"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback.html#a96ceeb870605fa707cfe6e2d38b840c2">SleepHelper::AppCallback::whileAnyFalse</a></div><div class="ttdeci">bool whileAnyFalse(bool defaultResult, Types... args)</div><div class="ttdoc">Calls all callbacks. If any returns false then returns false, but all are still called.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:252</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_html_ad7a3257846621937f6fe5e9aa595c589"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback.html#ad7a3257846621937f6fe5e9aa595c589">SleepHelper::AppCallback::callbackFunctions</a></div><div class="ttdeci">std::vector&lt; std::function&lt; bool(Types... args)&gt; &gt; callbackFunctions</div><div class="ttdoc">Vector of all callbacks, limited only by available RAM.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:277</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_state_html"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback_state.html">SleepHelper::AppCallbackState</a></div><div class="ttdoc">State data for AppCallbackWithState.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:289</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_state_html_a7fd8da9cd79e9dd9a7054dd19cc84b29"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback_state.html#a7fd8da9cd79e9dd9a7054dd19cc84b29">SleepHelper::AppCallbackState::callbackData</a></div><div class="ttdeci">void * callbackData</div><div class="ttdoc">Callback can store data here.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:295</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_state_html_a8c3052d3dd1bc6b62f9b212a613be1fa"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback_state.html#a8c3052d3dd1bc6b62f9b212a613be1fa">SleepHelper::AppCallbackState::CALLBACK_STATE_START</a></div><div class="ttdeci">static const int CALLBACK_STATE_START</div><div class="ttdoc">The callback has just started this wake cycle.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:291</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_state_html_aa98ef2e3333a7b8cc2b6c5509449c9a9"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback_state.html#aa98ef2e3333a7b8cc2b6c5509449c9a9">SleepHelper::AppCallbackState::CALLBACK_START_RETURNED_FALSE</a></div><div class="ttdeci">static const int CALLBACK_START_RETURNED_FALSE</div><div class="ttdoc">The callback return false and should not be called again for this wake cycle.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:292</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_state_html_af56d563f066eca5a01f75b28a24f88b9"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback_state.html#af56d563f066eca5a01f75b28a24f88b9">SleepHelper::AppCallbackState::callbackState</a></div><div class="ttdeci">int callbackState</div><div class="ttdoc">The current state of this callback.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:294</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_with_state_html"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback_with_state.html">SleepHelper::AppCallbackWithState</a></div><div class="ttdoc">Works like AppCallback, but includes additional state data.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:304</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_with_state_html_a1cc6b386130a994a53bb2c707a906246"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback_with_state.html#a1cc6b386130a994a53bb2c707a906246">SleepHelper::AppCallbackWithState::callbackFunctions</a></div><div class="ttdeci">std::vector&lt; std::function&lt; bool(AppCallbackState &amp;, Types... args)&gt; &gt; callbackFunctions</div><div class="ttdoc">The callback functions.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:374</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_with_state_html_a2faa88d937fd29dafaeadf150d163c6e"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback_with_state.html#a2faa88d937fd29dafaeadf150d163c6e">SleepHelper::AppCallbackWithState::add</a></div><div class="ttdeci">void add(std::function&lt; bool(AppCallbackState &amp;, Types... args)&gt; callback)</div><div class="ttdoc">Adds a callback function. Zero or more callbacks can be defined.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:313</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_with_state_html_a33d2e65f972774b1e66e64f3ccaac0fb"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback_with_state.html#a33d2e65f972774b1e66e64f3ccaac0fb">SleepHelper::AppCallbackWithState::whileAnyTrue</a></div><div class="ttdeci">bool whileAnyTrue(Types... args)</div><div class="ttdoc">Keeps calling the callback function while any callback returns true.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:350</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_with_state_html_a571dbf8b70a9c6e2d5c46b54be860cbe"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback_with_state.html#a571dbf8b70a9c6e2d5c46b54be860cbe">SleepHelper::AppCallbackWithState::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdoc">Returns true if there are no callbacks registered.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:374</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_with_state_html_a9ec4ef1aa0621b529690173478db393a"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback_with_state.html#a9ec4ef1aa0621b529690173478db393a">SleepHelper::AppCallbackWithState::setState</a></div><div class="ttdeci">void setState(int newState)</div><div class="ttdoc">Set the state.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:325</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_with_state_html_ad585148742b4750006e751a6680294d7"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback_with_state.html#ad585148742b4750006e751a6680294d7">SleepHelper::AppCallbackWithState::callbackState</a></div><div class="ttdeci">std::vector&lt; AppCallbackState &gt; callbackState</div><div class="ttdoc">The state for the callback functions. The array indexes match callbackFunctions.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:377</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_app_callback_with_state_html_ae982af384ee39f8bc5011c80373ac79d"><div class="ttname"><a href="class_sleep_helper_1_1_app_callback_with_state.html#ae982af384ee39f8bc5011c80373ac79d">SleepHelper::AppCallbackWithState::setStartState</a></div><div class="ttdeci">void setStartState()</div><div class="ttdoc">Set the state to CALLBACK_STATE_START.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:336</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_publish_data_html"><div class="ttname"><a href="class_sleep_helper_1_1_publish_data.html">SleepHelper::PublishData</a></div><div class="ttdoc">Class to hold data to be published by Particle.publish.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1223</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_publish_data_html_a332e513b51f26727ad96d143358935ec"><div class="ttname"><a href="class_sleep_helper_1_1_publish_data.html#a332e513b51f26727ad96d143358935ec">SleepHelper::PublishData::PublishData</a></div><div class="ttdeci">PublishData(const char *eventName, const char *eventData, PublishFlags flags)</div><div class="ttdoc">Initialize object with event name, event data, and flags.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1255</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_publish_data_html_a364d423587f430ac2b0885a2d17161eb"><div class="ttname"><a href="class_sleep_helper_1_1_publish_data.html#a364d423587f430ac2b0885a2d17161eb">SleepHelper::PublishData::PublishData</a></div><div class="ttdeci">PublishData(const char *eventName)</div><div class="ttdoc">Initialize object with event name, no data payload, and default flags.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1235</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_publish_data_html_a57ef25839995447b18834bc5b78e59f3"><div class="ttname"><a href="class_sleep_helper_1_1_publish_data.html#a57ef25839995447b18834bc5b78e59f3">SleepHelper::PublishData::flags</a></div><div class="ttdeci">PublishFlags flags</div><div class="ttdoc">Flags. Default is PRIVATE, can also use NO_ACK.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1259</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_publish_data_html_a763445cc257d0f4dd0ec1a4bd505540e"><div class="ttname"><a href="class_sleep_helper_1_1_publish_data.html#a763445cc257d0f4dd0ec1a4bd505540e">SleepHelper::PublishData::PublishData</a></div><div class="ttdeci">PublishData()</div><div class="ttdoc">Initialize empty object.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1228</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_publish_data_html_a8930cb67261e4a0039e5312f6963448a"><div class="ttname"><a href="class_sleep_helper_1_1_publish_data.html#a8930cb67261e4a0039e5312f6963448a">SleepHelper::PublishData::PublishData</a></div><div class="ttdeci">PublishData(const char *eventName, const char *eventData)</div><div class="ttdoc">Initialize object with event name, event data, and default flags.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1244</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_publish_data_html_a9ee781762eb07afa93e822b94c2d4d42"><div class="ttname"><a href="class_sleep_helper_1_1_publish_data.html#a9ee781762eb07afa93e822b94c2d4d42">SleepHelper::PublishData::eventData</a></div><div class="ttdeci">String eventData</div><div class="ttdoc">Particle event payload.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1258</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_publish_data_html_aa90ba496dc252d1bd4ed8c8aa75556f4"><div class="ttname"><a href="class_sleep_helper_1_1_publish_data.html#aa90ba496dc252d1bd4ed8c8aa75556f4">SleepHelper::PublishData::eventName</a></div><div class="ttdeci">String eventName</div><div class="ttdoc">Particle event name.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1257</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_should_connect_app_callback_html"><div class="ttname"><a href="class_sleep_helper_1_1_should_connect_app_callback.html">SleepHelper::ShouldConnectAppCallback</a></div><div class="ttdoc">Class for ShouldConnect application callback.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:402</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_should_connect_app_callback_html_a6c6304ffbbd78c1dca79d8afbc2c97e1"><div class="ttname"><a href="class_sleep_helper_1_1_should_connect_app_callback.html#a6c6304ffbbd78c1dca79d8afbc2c97e1">SleepHelper::ShouldConnectAppCallback::shouldConnect</a></div><div class="ttdeci">bool shouldConnect()</div><div class="ttdoc">Determine if a cloud connection should occur.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:429</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_sleep_configuration_parameters_html"><div class="ttname"><a href="class_sleep_helper_1_1_sleep_configuration_parameters.html">SleepHelper::SleepConfigurationParameters</a></div><div class="ttdoc">Structure of information about the next planned sleep.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1296</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_sleep_configuration_parameters_html_a2dea56d54563dffb853d36c2f28d93fd"><div class="ttname"><a href="class_sleep_helper_1_1_sleep_configuration_parameters.html#a2dea56d54563dffb853d36c2f28d93fd">SleepHelper::SleepConfigurationParameters::nextFullWakeTime</a></div><div class="ttdeci">time_t nextFullWakeTime</div><div class="ttdoc">Time of next full wake (Unix time seconds since January 1, 1970, at UTC)</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1301</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_sleep_configuration_parameters_html_a2eb66744889bfa20bedce252ea25e62c"><div class="ttname"><a href="class_sleep_helper_1_1_sleep_configuration_parameters.html#a2eb66744889bfa20bedce252ea25e62c">SleepHelper::SleepConfigurationParameters::disconnectCellular</a></div><div class="ttdeci">bool disconnectCellular</div><div class="ttdoc">Override setting for disconnecting from cellular.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1306</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_sleep_configuration_parameters_html_aa32e97d12e57b2d601a20ba2e91eeb1b"><div class="ttname"><a href="class_sleep_helper_1_1_sleep_configuration_parameters.html#aa32e97d12e57b2d601a20ba2e91eeb1b">SleepHelper::SleepConfigurationParameters::sleepTimeMs</a></div><div class="ttdeci">system_tick_t sleepTimeMs</div><div class="ttdoc">Override setting for sleep duration.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1305</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_sleep_configuration_parameters_html_aa91dcc289079b7f0711861d4613c20df"><div class="ttname"><a href="class_sleep_helper_1_1_sleep_configuration_parameters.html#aa91dcc289079b7f0711861d4613c20df">SleepHelper::SleepConfigurationParameters::calculatedMillis</a></div><div class="ttdeci">uint64_t calculatedMillis</div><div class="ttdoc">System.millis() when the sleep duration was calculated.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1302</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_sleep_configuration_parameters_html_ac0952001f98b2ec5b95142946f4593df"><div class="ttname"><a href="class_sleep_helper_1_1_sleep_configuration_parameters.html#ac0952001f98b2ec5b95142946f4593df">SleepHelper::SleepConfigurationParameters::isConnected</a></div><div class="ttdeci">bool isConnected</div><div class="ttdoc">Currently connected to cellular if true.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1299</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_sleep_configuration_parameters_html_ae6e1b86f503598c0fbbcc5ed58225490"><div class="ttname"><a href="class_sleep_helper_1_1_sleep_configuration_parameters.html#ae6e1b86f503598c0fbbcc5ed58225490">SleepHelper::SleepConfigurationParameters::timeUntilNextFullWakeMs</a></div><div class="ttdeci">system_tick_t timeUntilNextFullWakeMs</div><div class="ttdoc">Number of milliseconds until next full wake.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1300</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_sleep_helper_recursive_mutex_html"><div class="ttname"><a href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html">SleepHelper::SleepHelperRecursiveMutex</a></div><div class="ttdoc">This is a wrapper around a recursive mutex, similar to Device OS RecursiveMutex.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:50</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_sleep_helper_recursive_mutex_html_a34bb756e26a98c673610396cbf06e7b7"><div class="ttname"><a href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#a34bb756e26a98c673610396cbf06e7b7">SleepHelper::SleepHelperRecursiveMutex::trylock</a></div><div class="ttdeci">bool trylock() const</div><div class="ttdoc">Attempts to lock the mutex. Creates a new recursive mutex object if it does not exist yet.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:108</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_sleep_helper_recursive_mutex_html_a3c9e1311d1d26a58afb1c8f8d32fcf69"><div class="ttname"><a href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#a3c9e1311d1d26a58afb1c8f8d32fcf69">SleepHelper::SleepHelperRecursiveMutex::dispose</a></div><div class="ttdeci">void dispose()</div><div class="ttdoc">Destroys the mutex object.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:83</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_sleep_helper_recursive_mutex_html_a6a1f53c6f4b467ddfd988d8defd8c478"><div class="ttname"><a href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#a6a1f53c6f4b467ddfd988d8defd8c478">SleepHelper::SleepHelperRecursiveMutex::try_lock</a></div><div class="ttdeci">bool try_lock() const</div><div class="ttdoc">Attempts to lock the mutex. Creates a new recursive mutex object if it does not exist yet.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:120</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_sleep_helper_recursive_mutex_html_aaeecb1cb2dea4299c77275757cb69016"><div class="ttname"><a href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#aaeecb1cb2dea4299c77275757cb69016">SleepHelper::SleepHelperRecursiveMutex::~SleepHelperRecursiveMutex</a></div><div class="ttdeci">~SleepHelperRecursiveMutex()</div><div class="ttdoc">Destroys the underlying mutex object.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:76</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_sleep_helper_recursive_mutex_html_acb7f25e9fab9e82496908e5726b7e812"><div class="ttname"><a href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#acb7f25e9fab9e82496908e5726b7e812">SleepHelper::SleepHelperRecursiveMutex::SleepHelperRecursiveMutex</a></div><div class="ttdeci">SleepHelperRecursiveMutex()</div><div class="ttdoc">Default constructor with no mutex - one will be created on first lock.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:69</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_sleep_helper_recursive_mutex_html_ad89bbb20eae4ef07b147fe69f688c765"><div class="ttname"><a href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#ad89bbb20eae4ef07b147fe69f688c765">SleepHelper::SleepHelperRecursiveMutex::unlock</a></div><div class="ttdeci">void unlock() const</div><div class="ttdoc">Unlocks the mutex.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:129</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_sleep_helper_recursive_mutex_html_ae36dee79d37ac9610cd4c76c845c5386"><div class="ttname"><a href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#ae36dee79d37ac9610cd4c76c845c5386">SleepHelper::SleepHelperRecursiveMutex::lock</a></div><div class="ttdeci">void lock() const</div><div class="ttdoc">Locks the mutex. Creates a new recursive mutex object if it does not exist yet.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:97</div></div>
<div class="ttc" id="aclass_sleep_helper_1_1_sleep_helper_recursive_mutex_html_af25f1073f79d12bb4f57a7c1f6629aa8"><div class="ttname"><a href="class_sleep_helper_1_1_sleep_helper_recursive_mutex.html#af25f1073f79d12bb4f57a7c1f6629aa8">SleepHelper::SleepHelperRecursiveMutex::SleepHelperRecursiveMutex</a></div><div class="ttdeci">SleepHelperRecursiveMutex(os_mutex_recursive_t handle)</div><div class="ttdoc">Construct a SleepHelperRecursiveMutex wrapper object from an existing recursive mutex.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:62</div></div>
<div class="ttc" id="aclass_sleep_helper_html"><div class="ttname"><a href="class_sleep_helper.html">SleepHelper</a></div><div class="ttdef"><b>Definition:</b> SleepHelper.h:28</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a0baa5051c4929da8fb0bd27f4ba04baf"><div class="ttname"><a href="class_sleep_helper.html#a0baa5051c4929da8fb0bd27f4ba04baf">SleepHelper::dataCaptureFunctions</a></div><div class="ttdeci">AppCallbackWithState dataCaptureFunctions</div><div class="ttdoc">Callback functions called for data capture.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2415</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a0e9735e119255ebb5b23a3e8baab6ad6"><div class="ttname"><a href="class_sleep_helper.html#a0e9735e119255ebb5b23a3e8baab6ad6">SleepHelper::withMaximumTimeToConnect</a></div><div class="ttdeci">SleepHelper &amp; withMaximumTimeToConnect(system_tick_t timeMs)</div><div class="ttdoc">Sets the maximum time to connect to the cloud. If this limit is exceeded, the device will go to sleep...</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1706</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a192bde753499516571c45387d29f202b"><div class="ttname"><a href="class_sleep_helper.html#a192bde753499516571c45387d29f202b">SleepHelper::getScheduleFull</a></div><div class="ttdeci">LocalTimeSchedule &amp; getScheduleFull()</div><div class="ttdoc">Get the full wake schedule.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2129</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a22d4889a6cb72add134a4557914cb1bf"><div class="ttname"><a href="class_sleep_helper.html#a22d4889a6cb72add134a4557914cb1bf">SleepHelper::withWakeEventName</a></div><div class="ttdeci">SleepHelper &amp; withWakeEventName(const char *eventName)</div><div class="ttdoc">Set the event name used for the wake event. Default: sleepHelper.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1521</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a2a3dbce12df5e3d4766473beb367695d"><div class="ttname"><a href="class_sleep_helper.html#a2a3dbce12df5e3d4766473beb367695d">SleepHelper::withMinimumConnectedTime</a></div><div class="ttdeci">SleepHelper &amp; withMinimumConnectedTime(system_tick_t timeMs)</div><div class="ttdoc">Set the minimum amount of time to stay connected to the cloud (optional)</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1757</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a2b7b34ca5957b1ecd4f9bdce18fc30fd"><div class="ttname"><a href="class_sleep_helper.html#a2b7b34ca5957b1ecd4f9bdce18fc30fd">SleepHelper::JSONCopy</a></div><div class="ttdeci">static void JSONCopy(const char *src, JSONWriter &amp;writer)</div><div class="ttdoc">Copies pre-formatted JSON into a writer.</div><div class="ttdef"><b>Definition:</b> SleepHelper.cpp:1292</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a34fe97ee173daddbcf2cdb096d83249f"><div class="ttname"><a href="class_sleep_helper.html#a34fe97ee173daddbcf2cdb096d83249f">SleepHelper::withSleepEnabled</a></div><div class="ttdeci">SleepHelper &amp; withSleepEnabled(bool sleepEnabled)</div><div class="ttdoc">Sets the sleep enabled flag.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2062</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a39398c7821ad9cdec66c4836f11aaba8"><div class="ttname"><a href="class_sleep_helper.html#a39398c7821ad9cdec66c4836f11aaba8">SleepHelper::scheduleManager</a></div><div class="ttdeci">LocalTimeScheduleManager scheduleManager</div><div class="ttdoc">Class for managing publish and wake schedules.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2113</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a446ab9ecceecde925f3d23bb71a98612"><div class="ttname"><a href="class_sleep_helper.html#a446ab9ecceecde925f3d23bb71a98612">SleepHelper::eventsEnableEnabled</a></div><div class="ttdeci">bool eventsEnableEnabled(uint64_t flag) const</div><div class="ttdoc">Returns true if the eventsEnable flag is set.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1985</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a4aa8bc1eef9fc012ace84e22a0c6dd03"><div class="ttname"><a href="class_sleep_helper.html#a4aa8bc1eef9fc012ace84e22a0c6dd03">SleepHelper::loopFunctions</a></div><div class="ttdeci">AppCallback loopFunctions</div><div class="ttdoc">Callback functions called during loop()</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2413</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a4ab2c66f32bb196cfc556953a07658e9"><div class="ttname"><a href="class_sleep_helper.html#a4ab2c66f32bb196cfc556953a07658e9">SleepHelper::withShouldConnectMinimumSoC</a></div><div class="ttdeci">SleepHelper &amp; withShouldConnectMinimumSoC(float minSoC, int conviction=100)</div><div class="ttdoc">Require a minimum battery SoC to connect to cellular.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1831</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a4ab3fd543aa140b9887b682bb4c5d5aa"><div class="ttname"><a href="class_sleep_helper.html#a4ab3fd543aa140b9887b682bb4c5d5aa">SleepHelper::withLogEnabledEnable</a></div><div class="ttdeci">SleepHelper &amp; withLogEnabledEnable(uint64_t flag)</div><div class="ttdoc">Enable logging for a specific type of log.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2026</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a4c086ef306238bde738d7837c0e52bbb"><div class="ttname"><a href="class_sleep_helper.html#a4c086ef306238bde738d7837c0e52bbb">SleepHelper::operator=</a></div><div class="ttdeci">SleepHelper &amp; operator=(const SleepHelper &amp;)=delete</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a4dc8cbdd5b7a7ef3d292f3c225011e71"><div class="ttname"><a href="class_sleep_helper.html#a4dc8cbdd5b7a7ef3d292f3c225011e71">SleepHelper::shouldConnectFunctions</a></div><div class="ttdeci">ShouldConnectAppCallback shouldConnectFunctions</div><div class="ttdoc">Callback functions to determine whether to do a quick or full wake.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2421</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a566a4ccb69e8cd74971906615536e53c"><div class="ttname"><a href="class_sleep_helper.html#a566a4ccb69e8cd74971906615536e53c">SleepHelper::sleepParams</a></div><div class="ttdeci">SleepConfigurationParameters sleepParams</div><div class="ttdoc">Passed to sleep configuration functions.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2406</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a59174d8e958315d585a89855f7ef87d2"><div class="ttname"><a href="class_sleep_helper.html#a59174d8e958315d585a89855f7ef87d2">SleepHelper::getScheduleDataCapture</a></div><div class="ttdeci">LocalTimeSchedule &amp; getScheduleDataCapture()</div><div class="ttdoc">The data capture schedule determines when to call the data capture callback.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2139</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a5f0a9e684db52fa33d784236d4bab32a"><div class="ttname"><a href="class_sleep_helper.html#a5f0a9e684db52fa33d784236d4bab32a">SleepHelper::eventsEnablePriority</a></div><div class="ttdeci">static int eventsEnablePriority(uint64_t flag)</div><div class="ttdoc">Returns the priority value (0 - 100) for a given flag.</div><div class="ttdef"><b>Definition:</b> SleepHelper.cpp:48</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a5f9efdd9e57e02116c47754726e8c98b"><div class="ttname"><a href="class_sleep_helper.html#a5f9efdd9e57e02116c47754726e8c98b">SleepHelper::minimumCellularOffTimeMs</a></div><div class="ttdeci">system_tick_t minimumCellularOffTimeMs</div><div class="ttdoc">Default value for the minimum time to turn cellular off.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2467</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a68ae8f2760ead87883343d1d418b977c"><div class="ttname"><a href="class_sleep_helper.html#a68ae8f2760ead87883343d1d418b977c">SleepHelper::withMinimumConnectedTime</a></div><div class="ttdeci">SleepHelper &amp; withMinimumConnectedTime(std::chrono::milliseconds timeMs)</div><div class="ttdoc">Set the minimum amount of time to stay connected to the cloud (optional)</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1769</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a72696a8a6b34bf4ccc352f472d7a75bd"><div class="ttname"><a href="class_sleep_helper.html#a72696a8a6b34bf4ccc352f472d7a75bd">SleepHelper::withMinimumCellularOffTime</a></div><div class="ttdeci">SleepHelper &amp; withMinimumCellularOffTime(std::chrono::milliseconds timeMs)</div><div class="ttdoc">Sets the minimum time to disconnect from cellular. Default: 13 minutes.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1361</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a775b5b367463b986c8c1c929adccf97f"><div class="ttname"><a href="class_sleep_helper.html#a775b5b367463b986c8c1c929adccf97f">SleepHelper::maximumTimeToConnectFunctions</a></div><div class="ttdeci">AppCallback&lt; system_tick_t &gt; maximumTimeToConnectFunctions</div><div class="ttdoc">Callback to determine if the maximum time to connect has been exceeded.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2428</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a77cffbed845c60300be6c6fcaf28f87e"><div class="ttname"><a href="class_sleep_helper.html#a77cffbed845c60300be6c6fcaf28f87e">SleepHelper::sleepConfigurationFunctions</a></div><div class="ttdeci">AppCallback&lt; SystemSleepConfiguration &amp;, SleepConfigurationParameters &amp; &gt; sleepConfigurationFunctions</div><div class="ttdoc">Callback functions for adjusting sleep behavior.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2401</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a77f153d46cb8aac85b889c0730135451"><div class="ttname"><a href="class_sleep_helper.html#a77f153d46cb8aac85b889c0730135451">SleepHelper::withEventsEnabledDisable</a></div><div class="ttdeci">SleepHelper &amp; withEventsEnabledDisable(uint64_t flag)</div><div class="ttdoc">Disable an eventsEnable flag. These determine whether the add values to the wake event.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1972</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a82c7ba3b2b42395558fa8c606c7a37ba"><div class="ttname"><a href="class_sleep_helper.html#a82c7ba3b2b42395558fa8c606c7a37ba">SleepHelper::wakeEventName</a></div><div class="ttdeci">String wakeEventName</div><div class="ttdoc">Event name for wake events. Default: &quot;sleepHelper&quot;.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2438</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a841620a67c0f98bfee4e9808a8226c3d"><div class="ttname"><a href="class_sleep_helper.html#a841620a67c0f98bfee4e9808a8226c3d">SleepHelper::wakeFunctions</a></div><div class="ttdeci">AppCallback&lt; const SystemSleepResult &amp; &gt; wakeFunctions</div><div class="ttdoc">Callback functions called on wake from sleep.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2403</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a8ab89009cbd7d35fa2b700cfedbfbe8e"><div class="ttname"><a href="class_sleep_helper.html#a8ab89009cbd7d35fa2b700cfedbfbe8e">SleepHelper::wakeEventPayload</a></div><div class="ttdeci">std::vector&lt; String &gt; wakeEventPayload</div><div class="ttdoc">Wake events are stored in this vector to be published, rate limited, later.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2492</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a9204854720f3fbd1b17ead4ac1e01ef2"><div class="ttname"><a href="class_sleep_helper.html#a9204854720f3fbd1b17ead4ac1e01ef2">SleepHelper::withAB1805_WDT</a></div><div class="ttdeci">SleepHelper &amp; withAB1805_WDT(AB1805 &amp;ab1805)</div><div class="ttdoc">Stop and resume an AB1805 watchdog before sleep and reset.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1846</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a92b84dd4543fcbe7e3477ed03cd36b32"><div class="ttname"><a href="class_sleep_helper.html#a92b84dd4543fcbe7e3477ed03cd36b32">SleepHelper::withMinimumSleepTimeMs</a></div><div class="ttdeci">SleepHelper &amp; withMinimumSleepTimeMs(std::chrono::milliseconds timeMs)</div><div class="ttdoc">Sets the minimum time to sleep. Default is 10 seconds.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1374</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a932668ac8e63a749f757c60878958c42"><div class="ttname"><a href="class_sleep_helper.html#a932668ac8e63a749f757c60878958c42">SleepHelper::getScheduleQuick</a></div><div class="ttdeci">LocalTimeSchedule &amp; getScheduleQuick()</div><div class="ttdoc">Get the quick wake schedule.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2120</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a935575e1ca2511f137c0922443c5fac5"><div class="ttname"><a href="class_sleep_helper.html#a935575e1ca2511f137c0922443c5fac5">SleepHelper::wakeOrBootFunctions</a></div><div class="ttdeci">AppCallback&lt; int &gt; wakeOrBootFunctions</div><div class="ttdoc">Called at either boot or after wake.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2424</div></div>
<div class="ttc" id="aclass_sleep_helper_html_a96e621d2b5d04ae764605bc5bf8ec185"><div class="ttname"><a href="class_sleep_helper.html#a96e621d2b5d04ae764605bc5bf8ec185">SleepHelper::_instance</a></div><div class="ttdeci">static SleepHelper * _instance</div><div class="ttdoc">Singleton instance of this class.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2522</div></div>
<div class="ttc" id="aclass_sleep_helper_html_aa293cbbab40d07245d2006a71f696e6f"><div class="ttname"><a href="class_sleep_helper.html#aa293cbbab40d07245d2006a71f696e6f">SleepHelper::withTimeConfig</a></div><div class="ttdeci">SleepHelper &amp; withTimeConfig(const char *tzConfig)</div><div class="ttdoc">Sets the time configuration string for local time calculations.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1943</div></div>
<div class="ttc" id="aclass_sleep_helper_html_aa55dc9d8e2627cf697ac1bd6a1db9c2d"><div class="ttname"><a href="class_sleep_helper.html#aa55dc9d8e2627cf697ac1bd6a1db9c2d">SleepHelper::setup</a></div><div class="ttdeci">void setup()</div><div class="ttdoc">Perform setup operations; call this from global application setup()</div><div class="ttdef"><b>Definition:</b> SleepHelper.cpp:82</div></div>
<div class="ttc" id="aclass_sleep_helper_html_aa5f00e59c77710112d0a436e901f4915"><div class="ttname"><a href="class_sleep_helper.html#aa5f00e59c77710112d0a436e901f4915">SleepHelper::sleepReadyFunctions</a></div><div class="ttdeci">AppCallbackWithState&lt; system_tick_t &gt; sleepReadyFunctions</div><div class="ttdoc">Callback functions to determine if it's time to sleep.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2418</div></div>
<div class="ttc" id="aclass_sleep_helper_html_aab6eb4ae918d1cc5f8d3b9f8de4ef233"><div class="ttname"><a href="class_sleep_helper.html#aab6eb4ae918d1cc5f8d3b9f8de4ef233">SleepHelper::setupFunctions</a></div><div class="ttdeci">AppCallback setupFunctions</div><div class="ttdoc">Callback functions called during setup()</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2411</div></div>
<div class="ttc" id="aclass_sleep_helper_html_aac66e90c2d804447b06aeea403b4cbd5"><div class="ttname"><a href="class_sleep_helper.html#aac66e90c2d804447b06aeea403b4cbd5">SleepHelper::withLogEnabledDisable</a></div><div class="ttdeci">SleepHelper &amp; withLogEnabledDisable(uint64_t flag)</div><div class="ttdoc">Disable logging for a specific type of log.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2037</div></div>
<div class="ttc" id="aclass_sleep_helper_html_ab6548934c48db415140e330e94d8233a"><div class="ttname"><a href="class_sleep_helper.html#ab6548934c48db415140e330e94d8233a">SleepHelper::withEventsEnabledEnable</a></div><div class="ttdeci">SleepHelper &amp; withEventsEnabledEnable(uint64_t flag)</div><div class="ttdoc">Enable an eventsEnable flag. These determine whether the add values to the wake event.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1961</div></div>
<div class="ttc" id="aclass_sleep_helper_html_ab8889f82083eb26229ac096907218766"><div class="ttname"><a href="class_sleep_helper.html#ab8889f82083eb26229ac096907218766">SleepHelper::withMaximumTimeToConnect</a></div><div class="ttdeci">SleepHelper &amp; withMaximumTimeToConnect(std::chrono::milliseconds timeMs)</div><div class="ttdoc">Sets the maximum time to connect to the cloud. If this limit is exceeded, the device will go to sleep...</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1722</div></div>
<div class="ttc" id="aclass_sleep_helper_html_abaa0d52e950144a4e46cc96b190eee59"><div class="ttname"><a href="class_sleep_helper.html#abaa0d52e950144a4e46cc96b190eee59">SleepHelper::eventsEnabled</a></div><div class="ttdeci">uint64_t eventsEnabled</div><div class="ttdoc">Which event history events are enabled (default: all)</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2452</div></div>
<div class="ttc" id="aclass_sleep_helper_html_abba9753723ae55106df460a3b5bae4e9"><div class="ttname"><a href="class_sleep_helper.html#abba9753723ae55106df460a3b5bae4e9">SleepHelper::noConnectionFunctions</a></div><div class="ttdeci">AppCallbackWithState noConnectionFunctions</div><div class="ttdoc">When in no connection (quick wake) mode, after the data capture functions are called the no connectio...</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2436</div></div>
<div class="ttc" id="aclass_sleep_helper_html_ad02621204c1827fd6e2cbb3875462266"><div class="ttname"><a href="class_sleep_helper.html#ad02621204c1827fd6e2cbb3875462266">SleepHelper::sleepConfig</a></div><div class="ttdeci">SystemSleepConfiguration sleepConfig</div><div class="ttdoc">Passed to sleep configuration functions.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2405</div></div>
<div class="ttc" id="aclass_sleep_helper_html_ad10ad831c85ff13e633db4cf37350743"><div class="ttname"><a href="class_sleep_helper.html#ad10ad831c85ff13e633db4cf37350743">SleepHelper::eventsEnableName</a></div><div class="ttdeci">static const char * eventsEnableName(uint64_t flag)</div><div class="ttdoc">Returns the event name (const c-string) for a given flag.</div><div class="ttdef"><b>Definition:</b> SleepHelper.cpp:59</div></div>
<div class="ttc" id="aclass_sleep_helper_html_ad424c11c0781ea2ebbdd96a43521ea06"><div class="ttname"><a href="class_sleep_helper.html#ad424c11c0781ea2ebbdd96a43521ea06">SleepHelper::instance</a></div><div class="ttdeci">static SleepHelper &amp; instance()</div><div class="ttdoc">Gets the singleton instance of this class, allocating it if necessary.</div><div class="ttdef"><b>Definition:</b> SleepHelper.cpp:14</div></div>
<div class="ttc" id="aclass_sleep_helper_html_ad74eb51eefc7205b133be4fa58e32718"><div class="ttname"><a href="class_sleep_helper.html#ad74eb51eefc7205b133be4fa58e32718">SleepHelper::appLog</a></div><div class="ttdeci">Logger appLog</div><div class="ttdoc">Used instead of Cellular.ready(), etc.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2514</div></div>
<div class="ttc" id="aclass_sleep_helper_html_ade486a051d5f7aea0b7a08410dc1844c"><div class="ttname"><a href="class_sleep_helper.html#ade486a051d5f7aea0b7a08410dc1844c">SleepHelper::logEnableEnabled</a></div><div class="ttdeci">bool logEnableEnabled(uint64_t flag) const</div><div class="ttdoc">Returns true if the specified logging flag is set.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2049</div></div>
<div class="ttc" id="aclass_sleep_helper_html_adfe77dceb8caff70bdba400abb3b2533"><div class="ttname"><a href="class_sleep_helper.html#adfe77dceb8caff70bdba400abb3b2533">SleepHelper::sleepOrResetFunctions</a></div><div class="ttdeci">AppCallback&lt; bool &gt; sleepOrResetFunctions</div><div class="ttdoc">Called right before sleep or before reset.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2426</div></div>
<div class="ttc" id="aclass_sleep_helper_html_ae0e65c8b5b18958cbd38f44a9d68b92f"><div class="ttname"><a href="class_sleep_helper.html#ae0e65c8b5b18958cbd38f44a9d68b92f">SleepHelper::minimumSleepTimeMs</a></div><div class="ttdeci">system_tick_t minimumSleepTimeMs</div><div class="ttdoc">Default value for the minimum time to sleep.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2468</div></div>
<div class="ttc" id="aclass_sleep_helper_html_ae458f2222f1fb920f5ea59976ec5f758"><div class="ttname"><a href="class_sleep_helper.html#ae458f2222f1fb920f5ea59976ec5f758">SleepHelper::stateHandlerStart</a></div><div class="ttdeci">void stateHandlerStart()</div><div class="ttdoc">Initial state at boot or after sleep.</div><div class="ttdef"><b>Definition:</b> SleepHelper.cpp:305</div></div>
<div class="ttc" id="aclass_sleep_helper_html_aee0c6d41a776c14378cebbcc67c06a3e"><div class="ttname"><a href="class_sleep_helper.html#aee0c6d41a776c14378cebbcc67c06a3e">SleepHelper::getSleepEnabled</a></div><div class="ttdeci">bool getSleepEnabled() const</div><div class="ttdoc">Get the sleep enabled flag value. Default is true.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2073</div></div>
<div class="ttc" id="aclass_sleep_helper_html_af61ceb6581809f8166c32e1eb5bbda92"><div class="ttname"><a href="class_sleep_helper.html#af61ceb6581809f8166c32e1eb5bbda92">SleepHelper::SleepHelper</a></div><div class="ttdeci">SleepHelper(const SleepHelper &amp;)=delete</div></div>
<div class="ttc" id="aclass_sleep_helper_html_af8a341c2c724039fefbda0396596722a"><div class="ttname"><a href="class_sleep_helper.html#af8a341c2c724039fefbda0396596722a">SleepHelper::withPublishQueuePosixRK</a></div><div class="ttdeci">SleepHelper &amp; withPublishQueuePosixRK(std::chrono::milliseconds maxTimeToPublish=0ms)</div><div class="ttdoc">Connect the PublishQueuePosixRK library with this library.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1870</div></div>
<div class="ttc" id="aclass_sleep_helper_html_aff3f29183087973b925e04186e73165b"><div class="ttname"><a href="class_sleep_helper.html#aff3f29183087973b925e04186e73165b">SleepHelper::publishData</a></div><div class="ttdeci">std::vector&lt; PublishData &gt; publishData</div><div class="ttdoc">Wake event data to publish (JSON strings)</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:2445</div></div>
<div class="ttc" id="agroup__callbacks_html_ga015eb8ec460526d1dd81b4859823aa7e"><div class="ttname"><a href="group__callbacks.html#ga015eb8ec460526d1dd81b4859823aa7e">SleepHelper::withLoopFunction</a></div><div class="ttdeci">SleepHelper &amp; withLoopFunction(std::function&lt; bool()&gt; fn)</div><div class="ttdoc">Adds a function to be called on every call to loop()</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1410</div></div>
<div class="ttc" id="agroup__callbacks_html_ga48f3f028336fae8f9b7b56335a2af98f"><div class="ttname"><a href="group__callbacks.html#ga48f3f028336fae8f9b7b56335a2af98f">SleepHelper::withSleepOrResetFunction</a></div><div class="ttdeci">SleepHelper &amp; withSleepOrResetFunction(std::function&lt; bool(bool)&gt; fn)</div><div class="ttdoc">Adds a function to be called right before sleep or reset.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1669</div></div>
<div class="ttc" id="agroup__callbacks_html_ga6e5222c45e18155a9de17cb4350a8fbc"><div class="ttname"><a href="group__callbacks.html#ga6e5222c45e18155a9de17cb4350a8fbc">SleepHelper::withMaximumTimeToConnectFunction</a></div><div class="ttdeci">SleepHelper &amp; withMaximumTimeToConnectFunction(std::function&lt; bool(system_tick_t ms)&gt; fn)</div><div class="ttdoc">Adds a function to be called while connecting.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1691</div></div>
<div class="ttc" id="agroup__callbacks_html_ga9cdf24fe882a82663a70075aa6dd4a14"><div class="ttname"><a href="group__callbacks.html#ga9cdf24fe882a82663a70075aa6dd4a14">SleepHelper::withDataCaptureFunction</a></div><div class="ttdeci">SleepHelper &amp; withDataCaptureFunction(std::function&lt; bool(AppCallbackState &amp;state)&gt; fn)</div><div class="ttdoc">The data capture function is called on a schedule to capture data.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1434</div></div>
<div class="ttc" id="agroup__callbacks_html_gaa1f6f65d443e1d3e3765101e60e1ca04"><div class="ttname"><a href="group__callbacks.html#gaa1f6f65d443e1d3e3765101e60e1ca04">SleepHelper::withSleepConfigurationFunction</a></div><div class="ttdeci">SleepHelper &amp; withSleepConfigurationFunction(std::function&lt; bool(SystemSleepConfiguration &amp;, SleepConfigurationParameters &amp;)&gt; fn)</div><div class="ttdoc">Register a function to be called to configure sleep.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1327</div></div>
<div class="ttc" id="agroup__callbacks_html_gaa8c0f11f4f26ffe05eab19f8935f8b54"><div class="ttname"><a href="group__callbacks.html#gaa8c0f11f4f26ffe05eab19f8935f8b54">SleepHelper::withSleepReadyFunction</a></div><div class="ttdeci">SleepHelper &amp; withSleepReadyFunction(std::function&lt; bool(AppCallbackState &amp;, system_tick_t)&gt; fn)</div><div class="ttdoc">Determine if it's OK to sleep now, when in connected state.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1458</div></div>
<div class="ttc" id="agroup__callbacks_html_gaabfb4418f8fb006b50d8efff7edbee4d"><div class="ttname"><a href="group__callbacks.html#gaabfb4418f8fb006b50d8efff7edbee4d">SleepHelper::withShouldConnectFunction</a></div><div class="ttdeci">SleepHelper &amp; withShouldConnectFunction(std::function&lt; bool(int &amp;connectConviction, int &amp;noConnectConviction)&gt; fn)</div><div class="ttdoc">Function to call to determine if a full wake should be done.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1487</div></div>
<div class="ttc" id="agroup__callbacks_html_gabf9f04100075adfc2a5ccd27a14db7de"><div class="ttname"><a href="group__callbacks.html#gabf9f04100075adfc2a5ccd27a14db7de">SleepHelper::withSetupFunction</a></div><div class="ttdeci">SleepHelper &amp; withSetupFunction(std::function&lt; bool()&gt; fn)</div><div class="ttdoc">Adds a function to be called during setup()</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1394</div></div>
<div class="ttc" id="agroup__callbacks_html_gac633b93687b39b6b9e5ce18caa205dff"><div class="ttname"><a href="group__callbacks.html#gac633b93687b39b6b9e5ce18caa205dff">SleepHelper::withWakeFunction</a></div><div class="ttdeci">SleepHelper &amp; withWakeFunction(std::function&lt; bool(const SystemSleepResult &amp;)&gt; fn)</div><div class="ttdoc">Register a function to be called on wake from sleep.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1348</div></div>
<div class="ttc" id="agroup__callbacks_html_gae5024de1d0301a413314ae08f1676399"><div class="ttname"><a href="group__callbacks.html#gae5024de1d0301a413314ae08f1676399">SleepHelper::withNoConnectionFunction</a></div><div class="ttdeci">SleepHelper &amp; withNoConnectionFunction(std::function&lt; bool(AppCallbackState &amp;state)&gt; fn)</div><div class="ttdoc">Register a callback for when in the no connection state.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1746</div></div>
<div class="ttc" id="agroup__callbacks_html_gaf9c61f27340b819a67a6cb4c2c1c1115"><div class="ttname"><a href="group__callbacks.html#gaf9c61f27340b819a67a6cb4c2c1c1115">SleepHelper::withWakeOrBootFunction</a></div><div class="ttdeci">SleepHelper &amp; withWakeOrBootFunction(std::function&lt; bool(int)&gt; fn)</div><div class="ttdoc">Called during setup, after sleep, or an aborted sleep because duration was too short.</div><div class="ttdef"><b>Definition:</b> SleepHelper.h:1509</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
